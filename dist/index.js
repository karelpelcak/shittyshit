var e=require("react"),t=require("use-context-selector"),n=require("use-immer"),r=require("axios"),o=require("jssha"),i=require("qs"),a=require("fast-deep-equal"),u=require("fast-deep-equal/es6/react"),s=require("axios-hooks"),c=require("fuse.js"),l=require("lodash.deburr");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f,p,m,v,h,g=/*#__PURE__*/d(e),S=/*#__PURE__*/d(r),T=/*#__PURE__*/d(o),E=/*#__PURE__*/d(i),y=/*#__PURE__*/d(a),C=/*#__PURE__*/d(u),P=/*#__PURE__*/d(c),R=/*#__PURE__*/d(l);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(null,arguments)}function I(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}!function(e){e.Regular="REGULAR",e.CzechStudentPass15="CZECH_STUDENT_PASS_15",e.CzechStudentPass26="CZECH_STUDENT_PASS_26",e.Isic="ISIC",e.AttendedChild="ATTENDED_CHILD",e.Disabled="DISABLED",e.DisabledAttendance="DISABLED_ATTENDANCE",e.Euro26="EURO26",e.Child="CHILD",e.UaRefugee="UA_REFUGEE",e.UaRefugeeChild="UA_REFUGEE_CHILD",e.Disabled3="DISABLED_3",e.ChildUnder12="CHILD_UNDER_12"}(f||(f={})),function(e){e.C0="C0",e.C1="C1",e.C2="C2",e.No="NO",e.Train1StClass="TRAIN_1ST_CLASS",e.Train2NdClass="TRAIN_2ND_CLASS",e.TrainCouchetteBusiness4="TRAIN_COUCHETTE_BUSINESS_4",e.TrainCouchetteBusiness="TRAIN_COUCHETTE_BUSINESS",e.TrainCouchetteRelax="TRAIN_COUCHETTE_RELAX",e.TrainCouchetteRelaxForWomen="TRAIN_COUCHETTE_RELAX_FOR_WOMEN",e.TrainCouchetteStandard="TRAIN_COUCHETTE_STANDARD",e.TrainLowCost="TRAIN_LOW_COST",e.TrainStandardPlus="TRAIN_STANDARD_PLUS",e.BusStandard="BUS_STANDARD",e.BusRelax="BUS_RELAX"}(p||(p={})),function(e){e.Cash="CASH",e.Gift="GIFT",e.Online="ONLINE",e.Credit="CREDIT",e.FastBank="FAST_BANK",e.Transfer="TRANSFER"}(m||(m={})),function(e){e.YELLOW="YELLOW",e.YELLOW_R8="YELLOW_R8",e.ECONOMY="ECONOMY",e.FUN_RELAX="FUN_RELAX",e.FUN_RELAX_SELF_SERVICE="FUN_RELAX_SELF_SERVICE",e.FUN_RELAX_NO_STEWARD="FUN_RELAX_NO_STEWARD",e.DEUTSCHE_BAHN="DEUTSCHE_BAHN",e.ECONOMY_PLATFORM="ECONOMY_PLATFORM",e.SAD="SAD",e.WEST_BAHN="WEST_BAHN",e.IDS_JMK="IDS_JMK",e.OBB="OBB",e.UKRAINIAN_RAILWAYS="UKRAINIAN_RAILWAYS",e.GEPARD_EXPRESS="GEPARD_EXPRESS",e.UNITED_BUSES="UNITED_BUSES"}(v||(v={})),function(e){e.Account="ACCOUNT",e.Cash="CASH",e.Giftcertificate="GIFT_CERTIFICATE",e.Gopaysporopay="GOPAY_SPOROPAY",e.Gopaytatrapay="GOPAY_TATRAPAY",e.Gopayunicreditsk="GOPAY_UNICREDIT_SK",e.Gopayvub="GOPAY_VUB",e.Gpeapplepay="GPE_APPLE_PAY",e.Gpegooglepay="GPE_GOOGLE_PAY",e.Gpeonlinecard="GPE_ONLINE_CARD",e.Payuapplepay="PAYU_APPLE_PAY",e.Payucsasservis24="PAYU_CSAS_SERVIS24",e.Payucsob="PAYU_CSOB",e.Payuera="PAYU_ERA",e.Payufio="PAYU_FIO",e.Payugemoneybank="PAYU_GE_MONEY_BANK",e.Payugiropay="PAYU_GIROPAY",e.Payugooglepay="PAYU_GOOGLE_PAY",e.Payuinstanttr="PAYU_INSTANT_TR",e.Payukb="PAYU_KB",e.Payumbankmpenize="PAYU_MBANK_MPENIZE",e.Payuonlinecard="PAYU_ONLINE_CARD",e.Payuraiffeisen="PAYU_RAIFFEISEN",e.Payusepa="PAYU_SEPA",e.Payusofort="PAYU_SOFORT",e.Payusofortat="PAYU_SOFORT_AT",e.Payuunicredit="PAYU_UNICREDIT",e.Transfer="TRANSFER"}(h||(h={}));var b,O,N={__proto__:null,get Tariff(){return f},get SeatClass(){return p},get PaymentType(){return m},get VehicleKey(){return v},get PaymentMethod(){return h}};!function(e){e.PROD="prod",e.QA="qa",e.DEV="dev"}(O||(O={}));var x,D,L=Object.freeze(((b={})[O.PROD]="https://brn-ybus-pubapi.sa.cz/restapi",b[O.QA]="https://brn-qa-ybus-pubapi.sa.cz/restapi",b[O.DEV]="https://brn-dev-ybus-pubapi.sa.cz/restapi",b)),M={serialize:function(e){return E.default.stringify(e,{indices:!1})}},U=S.default.create({baseURL:L[O.QA],timeout:3e4,headers:{"Cache-Control":"no-cache"},paramsSerializer:M,transitional:{clarifyTimeoutError:!0}}),J=function(e){return U.interceptors.response.use(function(e){return delete U.defaults.headers.common["X-ReCaptcha-Token"],e},function(t){try{var n;return S.default.isCancel(t)?Promise.resolve():(401===(null==t||null==(n=t.response)?void 0:n.status)&&e(),Promise.reject(t))}catch(e){return Promise.reject(e)}})},w=["/tickets/create/unregistered","/users/login/registeredAccount","/users/login/unregisteredAccount","/users/login/email","/users/signup/registeredAccount","/users/forgottenPassword/email","/tickets/timetickets/unregistered"],F=function(e,t){var n=new T.default("SHA3-512","TEXT"),r="string"==typeof e?e:JSON.stringify(e);return n.setHMACKey(t,"TEXT"),n.update(r),n.getHMAC("HEX")},B=function(e){return U.interceptors.request.use(function(t){var n,r,o=null==(n=t.headers)||null==(n=n.Authorization)?void 0:n.split(" ")[1],i=t.hideTokenHash;return t.headers||(t.headers={}),null!=(r=t.url)&&r.includes("const")||i||(o&&!w.includes(t.url||"")?t.headers["X-Token-Hash"]=F(o,e):t.data&&(t.headers["X-Body-Hash"]=F(t.data,e))),i&&delete t.hideTokenHash,t.headers.Referer="regiojet:///",t})},G="alert.outage",j="alert.fail",H="alert.network",Y=function(e){if(e){switch(e.code){case r.AxiosError.ERR_CANCELED:return;case r.AxiosError.ETIMEDOUT:case r.AxiosError.ECONNABORTED:return G;case r.AxiosError.ERR_NETWORK:case"ENOTFOUND":return H}return j}},X=Object.freeze({cs:["CZ","SK"],de:["DE","AT","CZ"],"de-AT":["AT","DE","CZ"],en:["UK","BE","NL","LU","DE"],hu:["HU","SK","AT"],pl:["PL","CZ","SK","UA"],sk:["SK","CZ","AT"],uk:["UA","CZ","PL","SK","HU"]}),K=[h.Cash,h.Transfer,h.Giftcertificate],q={__proto__:null,get Env(){return O},envUrls:L,paramsSerializer:M,api:U,resInterceptor:J,getHashedData:F,reqInterceptor:B,TIMEOUT_MESSAGE:G,FAIL_MESSAGE:j,NETWORK_MESSAGE:H,getErrorMessage:Y,langPriorityCountries:X,unusablePaymentMethods:K},z=function(e){return Object.entries(e).reduce(function(e,t){var n=t[0],r=t[1];return r.length?(e.push.apply(e,r.map(function(e){return{id:e.id||e.sroTicketId,type:n}})),e):e},[])},W=function(){for(var e="",t="",n=(new Date).valueOf();n>1;){var r=Math.floor(n%58);n/=58,e+="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"[r]}for(var o=e.length;o<8;o++)t+="1";return t+e},V=Object.freeze({EMAIL:"email",FIRST_NAME:"firstName",SURNAME:"surname"}),Q=["TRAIN_COUCHETTE_BUSINESS_4","TRAIN_COUCHETTE_BUSINESS"],Z=function(e,t){var n=t.findIndex(function(t){return t.seatClassKey===e}),r=t[n],o=t[n+1];return!r||!o||"RJ_SEAT"!==r.type||"RJ_SEAT"!==o.type||r.price>=o.price||o.price/r.price>1.5||r.seatClassKey===o.seatClassKey||r.actionPrice||o.actionPrice||Q.includes(o.seatClassKey)?null:o},$=function(e){var t;"undefined"!=typeof window&&null!=(t=window.dataLayer)&&t.push&&"SET_RESPONSE_STATE"!==e.event&&window.dataLayer.push(e)},ee=function(){var e="undefined"!=typeof localStorage?localStorage.getItem("affiliateCode"):"";if(e)return parseInt(localStorage.getItem("affiliateCodeExpiration")||"",10)<(new Date).valueOf()?(localStorage.removeItem("affiliateCode"),void localStorage.removeItem("affiliateCodeExpiration")):e},te=[4987881e3,3088864001,4961583e3,5009212e3,4961583001,2370298003,372825006,5095524133,5095524027,372825007,372825008,4961583004,7063331002],ne=[5010256458,5812866010,5145776001,5010257320,5812866008,5812866007,5812866006,5812866005,5812866004,5812866003,5812866002,5812866001,3088864e3,5812866009],re=function(e,t){return te.includes(e)&&te.includes(t)||ne.includes(e)&&ne.includes(t)},oe=function(e,t){return C.default(e,t)?[]:t.filter(function(t){return!e.some(function(e){return C.default(e,t)})})},ie=function(e,t){return e.includes(t)?e.indexOf(t):e.length},ae={__proto__:null,basketItemsToTicketTypes:z,createTxToken:W,mapFieldToUser:V,couchetteClasses:Q,getMoreExpensiveClass:Z,gtmPush:$,getAffiliateCode:ee,mapFromToSections:function(e){return e.map(function(e){return{sectionId:e.id,fromStationId:e.departureStationId,toStationId:e.arrivalStationId}})},r8Stations:te,r23Stations:ne,isRegional:re,getNewSeats:oe,getAddonTranslationKey:function(e,t){var n=e.toLowerCase();return n.includes("kolo")?"addon.bike":n.includes("lyze")?"addon.ski":n.includes("parkovani")?"addon.parking":n.includes("zavazadlo")?"addon.luggage":n.includes("smartguide")?"addon.smartguide":n.includes("berider")?"addon.berider":n.includes("hoppygo")?"addon.hoppygo":t?"addon."+e:e},unorderedArrayEqual:function(e,t){if(!e||!t)return!1;var n=e.sort(),r=t.sort();return n.every(function(e,t){return r[t]===e})},calculateDistance:function(e,t,n,r){var o=.017453292519943295,i=.5-Math.cos((n-e)*o)/2+Math.cos(e*o)*Math.cos(n*o)*(1-Math.cos((r-t)*o))/2;return 12742*Math.asin(Math.sqrt(i))},getPriorityInArray:ie},ue="CLEAR_BOOKING",se="REPLACE_TARIFFS",ce="SAVE_CONNECTION",le="SELECT_ADDONS",de="SELECT_CLASS",fe="SELECT_CODE_DISCOUNT",pe="SELECT_PERC_DISCOUNT",me="SELECT_ROUTE",ve="SELECT_SEATS",he="SET_PRICE",ge="UPSELL_ADDONS",Se=["direction"],Te=["direction"],Ee=["direction"],ye=["direction"],Ce={booking:null,fav:[]},Pe=t.createContext({}),Re=function(e,t){var n,r;switch("undefined"!=typeof window&&$(((r={event:t.type+((null==t||null==(n=t.payload)?void 0:n.direction)||"")})[t.type]=_({},t.payload,{currency:U.defaults.headers.common["X-Currency"]}),r)),t.type){case se:var o;null!=e&&null!=(o=e.booking)&&null!=(o=o[t.payload.direction])&&o.tariffs&&(e.booking[t.payload.direction].tariffs=t.payload.tariffs);break;case ce:if(e.booking={connection:t.payload,isReturn:!!t.payload.returnDepartureDate,there:null,back:null},!t.payload.ignoreFavorite&&t.payload.fromLocationId&&t.payload.fromLocationType&&t.payload.toLocationId&&t.payload.toLocationType){var i=e.fav.findIndex(function(e){return e.fromLocationId===t.payload.fromLocationId&&e.toLocationId===t.payload.toLocationId});-1!==i&&e.fav.splice(i,1),e.fav.unshift({fromLocationId:t.payload.fromLocationId,fromLocationType:t.payload.fromLocationType,toLocationId:t.payload.toLocationId,toLocationType:t.payload.toLocationType})}break;case me:var a=t.payload,u=a.direction,s=I(a,Se);if(e.booking){var c=_({},s,{bookingState:"ROUTE_SELECTED",seatClass:void 0,sections:void 0,price:void 0,priceSource:void 0,selectedAddons:void 0,passengers:void 0});y.default(c,e.booking[u])||(e.booking[u]=c)}break;case ge:var l=t.payload,d=l.direction,f=I(l,Te);if(e.booking){var p,m=_({},null==(p=e.booking)?void 0:p[d],f,{bookingState:e.booking[d].bookingState});y.default(m,e.booking[d])||(e.booking[d]=m)}break;case de:var v=t.payload,h=v.direction,g=I(v,Ee);if(e.booking){var S,T=_({},(null==(S=e.booking)?void 0:S[h])||{},g,{bookingState:"CLASS_SELECTED",passengers:void 0});y.default(T,e.booking[h])||(e.booking[h]=T)}break;case ve:var E=t.payload,C=E.direction,P=E.seats;if(e.booking){var R,A,k=_({},null==(R=e.booking)?void 0:R[C],{sections:null==(A=e.booking)||null==(A=A[C])||null==(A=A.sections)?void 0:A.map(function(e){return _({},e,{selectedSeats:P.filter(function(t){return t.sectionId===e.sectionId})})}),bookingState:"SEAT_SELECTED"});y.default(k,e.booking[C])||(e.booking[C]=k)}break;case le:var b=t.payload,O=b.direction,N=I(b,ye);if(e.booking){var x,D=_({},null==(x=e.booking)?void 0:x[O],N,{bookingState:"ADDONS_SELECTED"});y.default(D,e.booking[O])||(e.booking[O]=D)}break;case pe:var L,M=t.payload,J=M.direction;if(null!=(L=e.booking)&&null!=(L=L[J])&&L.bookingState){var w,F=_({},null==(w=e.booking)?void 0:w[J],{percentualDiscountIds:M.percentualDiscountIds,discountAmount:M.discountAmount,bookingState:e.booking[J].bookingState});y.default(F,e.booking[J])||(e.booking[J]=F)}break;case fe:var B,G,j=t.payload,H=j.direction;null!=(B=e.booking)&&null!=(B=B[H])&&B.bookingState&&(e.booking[H]=_({},(null==(G=e.booking)?void 0:G[H])||{},{codeDiscount:j.codeDiscount,discountAmount:j.discountAmount,bookingState:e.booking[H].bookingState}));break;case he:var Y,X=t.payload,K=X.direction;if(null!=(Y=e.booking)&&Y[K]){var q,z=_({},(null==(q=e.booking)?void 0:q[K])||{},{price:X.price,bookingState:e.booking[K].bookingState});y.default(z,e.booking[K])||(e.booking[K]=z)}break;case ue:var W,V;if(null!=t&&null!=(W=t.payload)&&W.direction||!e.booking){if(null!=t&&null!=(V=t.payload)&&V.direction&&e.booking){var Q;"there"===t.payload.direction&&(e.booking.there=e.booking.back),null!=(Q=e.booking)&&Q.there?(e.booking.back||e.booking.isReturn)&&(e.booking.back=null,e.booking.isReturn=!1):e.booking=null}}else e.booking=null}},Ae=function(t){var r=t.children,o=t.persistConfig,i=t.persist,a=n.useImmerReducer(Re,i&&(null==o?void 0:o.getItem().bookings)||Ce),u=a[0],s=a[1];e.useEffect(function(){i&&(null==o||o.setItem({bookings:u}))},[u]),e.useEffect(function(){var e=J(function(){s({type:"CLEAR_BOOKING",payload:{}})});return function(){U.interceptors.response.eject(e)}},[]);var c=e.useMemo(function(){return{dispatch:s,state:u}},[s,u]);return g.default.createElement(Pe.Provider,{value:c},r)};!function(e){e[e.addons=0]="addons",e[e.connection=1]="connection",e[e.connectionRoute=2]="connectionRoute",e[e.createTickets=3]="createTickets",e[e.credit=4]="credit",e[e.locations=5]="locations",e[e.passengersData=6]="passengersData",e[e.payment=7]="payment",e[e.seats=8]="seats",e[e.tariffs=9]="tariffs",e[e.ticket=10]="ticket",e[e.ticketAction=11]="ticketAction",e[e.user=12]="user",e[e.userTickets=13]="userTickets",e[e.useTicketsType=14]="useTicketsType",e[e.ticketReview=15]="ticketReview",e[e.seatClasses=16]="seatClasses",e[e.vehicleStandards=17]="vehicleStandards"}(x||(x={}));var ke=((D={})[x.addons]={loading:!1},D[x.connection]={loading:!1},D[x.connectionRoute]={loading:!1},D[x.createTickets]={loading:!1},D[x.credit]={loading:!1},D[x.locations]={loading:!0},D[x.passengersData]={loading:!1},D[x.payment]={loading:!1},D[x.seats]={loading:!1},D[x.ticket]={loading:!1},D[x.tariffs]={loading:!0},D[x.ticketAction]={loading:!1},D[x.userTickets]={loading:!1},D[x.useTicketsType]={loading:!1},D[x.user]={loading:!1},D[x.ticketReview]={loading:!1},D[x.vehicleStandards]={loading:!1},D[x.seatClasses]={loading:!1},D),_e=t.createContext({}),Ie=function(e,t){if("SET_RESPONSE_STATE"===t.type){var n=t.payload,r=n.error,o=n.loading,i=n.type;if(void 0!==i){var a={error:r,loading:o};y.default(e[i],a)||(e[i]=a)}else Object.keys(e).forEach(function(t){var n={error:r,loading:o};y.default(e[+t],n)||(e[+t]=n)})}},be=function(t){var r=t.children,o=t.persistConfig,i=t.persist,a=n.useImmerReducer(Ie,i&&(null==o?void 0:o.getItem().responseState)||ke),u=a[0],s=a[1];e.useEffect(function(){i&&(null==o||o.setItem({responseState:u}))},[u]);var c=e.useMemo(function(){return{dispatch:s,state:u}},[s,u]);return g.default.createElement(_e.Provider,{value:c},r)},Oe={cooldownTs:0,displayCount:0},Ne=function(e,t){switch(t.type){case"REFUSE_UPSELL":e.displayCount++,2===e.displayCount&&(e.cooldownTs=(new Date).valueOf()+12096e5);break;case"REFRESH_COOLDOWN":e.cooldownTs&&(new Date).valueOf()>e.cooldownTs&&(e.cooldownTs=0,e.displayCount=0)}},xe=function(e,t){switch(t.type){case"CLEAR_USER":e.user=null,e.token=null;break;case"SET_LANG":t.payload.language&&(e.language=t.payload.language);break;case"SET_TOKEN":e.token=t.payload.token;break;case"SET_USER":e.user=t.payload.user;break;case"SET_CURRENCY":U.defaults.headers.common["X-Currency"]=t.payload.currency,e.currency=t.payload.currency;break;case"SET_PAYMENT_CODE":e.paymentMethodCode=t.payload.paymentMethodCode;break;case"SET_LOGIN_NR":e.loginNrs=Array.from(new Set([t.payload.loginNr].concat(e.loginNrs||[]))).slice(0,6)}},De=t.createContext({dispatch:{upsellDispatch:function(){},userDispatch:function(){}},interceptorsMounted:!1,state:{upsell:Oe,user:{loginNrs:[],user:null,token:null,currency:"CZK",language:"cs",paymentMethodCode:null}}}),Le=function(t){var r=t.children,o=t.currency,i=t.transportHash,a=t.lang,u=void 0===a?"cs":a,s=t.persistConfig,c=t.persist,l=n.useImmerReducer(Ne,(null==s?void 0:s.getItem().upsell)||Oe),d=l[0],f=l[1],p=n.useImmerReducer(xe,(null==s?void 0:s.getItem().user)||function(e,t){return void 0===t&&(t="cs"),{loginNrs:[],user:null,token:null,currency:e,language:t,paymentMethodCode:null}}(o,u)),m=p[0],v=p[1],h=e.useState(!1),S=h[0],T=h[1];return e.useEffect(function(){null==s||s.setItem({upsell:d})},[d]),e.useEffect(function(){null==s||s.setItem({user:m})},[m]),e.useEffect(function(){m.token?U.defaults.headers.Authorization="Bearer "+m.token:delete U.defaults.headers.Authorization},[m.token]),e.useEffect(function(){m.currency&&(U.defaults.headers.common["X-Currency"]=m.currency)},[m.currency]),e.useEffect(function(){var e=i?B(i):void 0,t=J(function(){v({type:"CLEAR_USER"})});return T(!0),function(){e&&U.interceptors.request.eject(e),U.interceptors.response.eject(t)}},[]),g.default.createElement(De.Provider,{value:{dispatch:{upsellDispatch:f,userDispatch:v},interceptorsMounted:S,state:{upsell:d,user:m}}},g.default.createElement(be,{persistConfig:s,persist:null==c?void 0:c.responseState},g.default.createElement(Ae,{persistConfig:s,persist:null==c?void 0:c.booking},r)))},Me=s.makeUseAxios({axios:U}),Ue=s.makeUseAxios({axios:U,defaultOptions:{manual:!0}}),Je=t.createContext({}),we=function(t,n,r,o,i){var a=t.data||(null==o?void 0:o.getItem()[n]);return e.useEffect(function(){var e;o&&r.current!==i&&a&&(o.setItem(((e={})[n]=a,e)),r.current=i)},[a,i,o]),a},Fe=function(t,n){e.useEffect(function(){if(t.error){var e=setInterval(n,1e4);return function(){return clearInterval(e)}}},[t.error,n])},Be=function(n){var r=n.cache,o=n.children,i=t.useContextSelector(De,function(e){return e.state.user}),a=i.language,u=i.currency,s=e.useRef(),c=e.useRef(),l=e.useRef(),d=e.useRef();e.useEffect(function(){U.defaults.headers.common["X-Lang"]="de-AT"===a?"at":a,U.defaults.headers.common["X-Currency"]=u},[a,u]);var f=Me("/consts/locations"),p=f[0],m=f[1],v=Me("/consts/tariffs"),h=v[0],S=v[1],T=Me("/consts/seatClasses"),E=T[0],y=T[1],C=Me("/consts/vehicleStandards"),P=C[0],R=C[1],A=e.useRef(a);e.useEffect(function(){if(A.current!==a){var e=new AbortController,t=e.signal;return Promise.all([m({signal:t}),S({signal:t}),y({signal:t}),R({signal:t})]).then(function(){A.current=a}),function(){e.abort()}}},[a,m,y,S,R]);var k=e.useMemo(function(){return p.data?function(e){return e.flatMap(function(e){return e.cities.map(function(t){return{aliases:t.aliases,code:e.code,id:t.id,name:t.name+", "+e.country,placeType:"CITY",stations:t.stations.map(function(n){return _({},n,{aliases:[].concat(n.aliases,t.aliases),countryCode:e.code,name:n.fullname,placeType:"STATION",types:n.stationsTypes})})}})})}(p.data):null==r?void 0:r.getItem().locations},[p.data,r]);e.useEffect(function(){r&&s.current!==a&&k&&(r.setItem({locations:k}),s.current=a)},[k,a,r]);var I=we(h,"tariffs",c,r,a),b=we(E,"seatClasses",l,r,a),O=we(P,"vehicleStandards",d,r,a);return Fe(p,m),Fe(h,S),Fe(E,y),Fe(P,R),g.default.createElement(Je.Provider,{value:{locations:k,locationsResponse:p,tariffs:I,tariffsResponse:h,seatClassesResponse:E,seatClasses:b,vehicleStandards:O,vehicleStandardsResponse:P}},o)},Ge=["children","env","verbose","cache","applicationOrigin"],je=function(e){var n=t.useContextSelector(_e,function(e){return e.dispatch});return function(t,r,o){void 0===o&&(o=void 0),n({type:"SET_RESPONSE_STATE",payload:{type:e,error:{message:t,errorFields:o},loading:r}})}};function He(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}var Ye=["selectedSeats"],Xe=function(e){void 0===e&&(e="there");var n=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)?void 0:t.isReturn}),r="back"===e&&n?"back":"there",o=t.useContextSelector(Pe,function(e){return e.dispatch});return{clearBooking:function(e){return o({type:ue,payload:{direction:e}})},createBooking:function(e){return o({type:ce,payload:e})},replaceTariffs:function(e){return o({type:se,payload:{direction:r,tariffs:e}})},selectAddons:function(e){return o({type:le,payload:{selectedAddons:e,direction:r}})},selectClass:function(e){return o({type:de,payload:_({},e,{direction:r})})},selectRoute:function(e){return o({type:me,payload:_({},e,{direction:r})})},selectSeats:function(e){return o({type:ve,payload:{seats:e,direction:r}})},upsellAddons:function(e){return o({type:ge,payload:{selectedAddons:e,direction:r}})}}},Ke=function(n){var r=t.useContextSelector(De,function(e){return e.state.user.language}),o=X[r],i=je(x.locations),a=t.useContextSelector(_e,function(e){return e.state[x.locations]}),u=t.useContext(Je),s=u.locationsResponse,c=s.error,l=s.loading,d=u.locations,f=e.useCallback(function(e){if(d)for(var t,n=k(d);!(t=n()).done;)for(var r,o=t.value,i=k(o.stations);!(r=i()).done;){var a=r.value;if(a.id===e)return _({},a,{cityId:o.id,cityName:o.name})}},[d]),p=e.useCallback(function(e){return null==d?void 0:d.find(function(t){return t.id===e})},[d]),m=e.useMemo(function(){return n?null==d?void 0:d.sort(function(e,t){return ie(o,e.code)-ie(o,t.code)}).map(function(e){return _({},e,{stations:e.stations.sort(function(e,t){return t.significance-e.significance})})}):d},[d]);return e.useEffect(function(){var e;i((null==c||null==(e=c.response)||null==(e=e.data)?void 0:e.message)||Y(c),!!l)},[c,l]),_({data:m,getCity:p,getDestination:function(e){var t;return null!=(t=f(e))?t:p(e)},getStation:f},a)},qe=["returnDepartureDate","fromLocationName","toLocationName","departureDate"];function ze(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}var We,Ve,Qe=[5577656005,5577656007,5577656006,5362691025],Ze=Object.freeze({10202001:3088864005}),$e="/routes/search/simple",et={Accept:"application/1.2.0+json"},tt=["HR"],nt=["selectedSeats"],rt=["selectedSeats"];!function(e){e.email="EMAIL",e.firstName="FIRST_NAME",e.surname="SURNAME",e.phone="PHONE",e.customerName="CUSTOMER_NAME",e.customerAddress="CUSTOMER_ADDRESS",e.dateOfBirth="BIRTHDAY"}(We||(We={})),function(e){e.email="email",e.firstName="firstName",e.phone="phone",e.surname="surname",e.customerName="customerName",e.customerAddress="customerAddress",e.dateOfBirth="dateOfBirth"}(Ve||(Ve={}));var ot={CUSTOMER_ADDRESS:Ve.customerAddress,CUSTOMER_NAME:Ve.customerName,EMAIL:Ve.email,FIRST_NAME:Ve.firstName,PHONE:Ve.phone,SURNAME:Ve.surname,BIRTHDAY:Ve.dateOfBirth},it=["RJ_TIME","FLEXI"],at=["routeId"];function ut(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}var st,ct=[],lt="2022-01-01";!function(e){e.Week="WEEK",e.Month="MONTH",e.Quarter="QUARTER"}(st||(st={}));var dt=[st.Week,st.Month,st.Quarter],ft="SET_LOGIN_NR",pt="SET_USER",mt=function(e){return U.get("/users/authenticate",e)},vt=function(){var e=t.useContextSelector(De,function(e){return e.dispatch.userDispatch}),n=t.useContextSelector(De,function(e){return!!e.state.user.user}),r=function(t){t!==U.defaults.headers.common["X-Currency"]&&e({type:"SET_CURRENCY",payload:{currency:t}})},o=function(t){try{var n,o=function(){var t=n.data;if(t)return e({type:pt,payload:{user:t}}),t.creditPrice&&e({type:ft,payload:{loginNr:t.accountCode}}),r(t.currency),t},i=function(e,r){try{var o=Promise.resolve(mt({signal:t})).then(function(e){n=e})}catch(e){return r()}return o&&o.then?o.then(void 0,r):o}(0,function(){return Promise.resolve(mt({hideTokenHash:!0,signal:t})).then(function(e){n=e})});return Promise.resolve(i&&i.then?i.then(o):o())}catch(e){return Promise.reject(e)}};return{authorize:o,setCaptcha:function(e){n||(U.defaults.headers.common["X-ReCaptcha-Token"]=e)},setCurrency:r,setLanguage:function(t){t!==U.defaults.headers.common["X-Lang"]&&e({type:"SET_LANG",payload:{language:t}})},setToken:function(t){try{return Promise.resolve(function(){if(t)return U.defaults.headers.Authorization="Bearer "+t,e({type:"SET_TOKEN",payload:{token:t}}),Promise.resolve(o());delete U.defaults.headers.Authorization,e({type:"CLEAR_USER"})}())}catch(e){return Promise.reject(e)}}}};function ht(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}var gt=function(){var n=je(x.user),r=t.useContextSelector(_e,function(e){return e.state[x.user]}),o=t.useContextSelector(De,function(e){return e.dispatch.userDispatch}),i=t.useContextSelector(De,function(e){return e.state.user.user}),a=vt().setToken,u=Xe().clearBooking,s=Ue({url:"/users/signup/registeredAccount",method:"POST"}),c=s[0],l=c.error,d=c.loading,f=s[1],p=Ue({url:"/users/login/registeredAccount",method:"POST"}),m=p[0],v=m.error,h=m.loading,g=p[1],S=Ue({url:"/users/forgottenPassword",method:"POST"}),T=S[0],E=T.error,y=T.loading,C=S[1],P=Ue({url:"/users/login/unregisteredAccount",method:"POST"}),R=P[0],A=R.error,k=R.loading,I=P[1],b=Ue({url:"/users/logout",method:"POST",data:{}},{manual:!0}),O=b[0],N=O.error,D=O.loading,L=b[1],M=Ue({url:"/users/settings/changeUserInformation",method:"PUT"}),U=M[0],J=U.error,w=U.loading,F=M[1],B=Ue({url:"/users/settings/changePassword",method:"PUT"}),G=B[0],j=G.error,H=G.loading,X=B[1],q=Ue({url:"/users/resetPassword",method:"POST"}),z=q[0],W=z.error,V=z.loading,Q=q[1],Z=Ue({url:"/users/resetPassword/verify",method:"GET"}),$=Z[0],ee=$.error,te=$.loading,ne=Z[1],re=Ue({url:"/tickets/account/qrcode",method:"GET"}),oe=re[0],ie=oe.error,ae=oe.loading,ue=oe.data,se=re[1],ce=Ue({url:"/discounts/percentual",method:"GET",headers:{Accept:"application/1.1.0+json"}}),le=ce[0],de=le.error,fe=le.loading,pe=le.data,me=ce[1],ve=Ue({url:"/users/signup/registeredAccount/simple",method:"POST"}),he=ve[0],ge=ve[1],Se=w||H||y||h||k||D||fe||ae||he.loading||V||te||d,Te=J||j||E||v||A||N||de||ie||he.error||W||ee||l;return e.useEffect(function(){var e,t;n((null==Te||null==(e=Te.response)||null==(e=e.data)?void 0:e.message)||Y(Te),Se,null==Te||null==(t=Te.response)||null==(t=t.data)?void 0:t.errorFields)},[Te,Se]),_({addLoginNumber:function(e){try{return Promise.resolve(o({type:ft,payload:{loginNr:e}}))}catch(e){return Promise.reject(e)}},changeUserInfo:function(e,t){return Promise.resolve(ht(function(){if(i){var n=i.company;return Promise.resolve(F({data:_({companyInformation:i.companyInformation,company:n,defaultTariffKey:i.defaultTariffKey,notifications:i.notifications,phoneNumber:i.phoneNumber},e),signal:t})).then(function(){return o({type:pt,payload:{user:i&&_({},i,e,{company:e.company?e.company:n})}}),!0})}},function(){return!1}))},changeUserPassword:function(e,t){return Promise.resolve(ht(function(){return Promise.resolve(X({data:e,signal:t})).then(function(){return!0})},function(){return!1}))},login:function(e,t){return Promise.resolve(ht(function(){return Promise.resolve(g({data:e,signal:t})).then(function(e){return Promise.resolve(a(e.data.token)).then(function(t){return{response:e,user:t}})})},function(){}))},loginTicket:function(e,t){return Promise.resolve(ht(function(){return Promise.resolve(I({data:{accountCode:e},signal:t})).then(function(e){return Promise.resolve(a(e.data.token)).then(function(t){return{response:e,user:t}})})},function(){}))},logout:function(e){return Promise.resolve(ht(function(){return Promise.resolve(L({signal:e})).then(function(){return Promise.resolve(a(null)).then(function(){return u(),!0})})},function(){return!1}))},registerOpenTicket:function(e,t){return Promise.resolve(ht(function(){return Promise.resolve(ge({data:e,signal:t})).then(function(e){var t=function(){if(e.data.token)return Promise.resolve(a(e.data.token)).then(function(){})}();return!t||!t.then||t.then(function(){return!0})})},function(){return!1}))},requestPasswordReset:function(e,t){return Promise.resolve(ht(function(){return Promise.resolve(C({data:e,signal:t})).then(function(){return!0})},function(){return!1}))},register:function(e,t){return Promise.resolve(ht(function(){return Promise.resolve(f({data:e,signal:t})).then(function(e){return 200===e.status&&Promise.resolve(a(e.data.token)).then(function(){return!0})})},function(){return!1}))},resetPassword:function(e,t,n){return Promise.resolve(ht(function(){var r={Authorization:"Bearer "+t};return Promise.resolve(ne({headers:r,signal:n})).then(function(t){var o=t.status;return Promise.resolve(Q({data:{newPassword:e},headers:r,signal:n})).then(function(e){return 200===o&&200===e.status})})},function(){return!1}))},setPaymentCode:function(e){return(!e||!K.includes(e))&&o({type:"SET_PAYMENT_CODE",payload:{paymentMethodCode:e}})},accountQr:{getAccountQr:se,qrData:ue},percDiscounts:{getPercDiscounts:me,percDiscountsData:pe}},r)};function St(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}var Tt={RJ_SEAT:[],RJ_SRO:[],RJ_TIME:[]},Et=Object.freeze({RJ_SEAT:0,RJ_SRO:0,RJ_TIME:0}),yt=Object.freeze({CANCELED:{limit:10},UNPAID:{limit:99,sortDirection:"ASC"},USED:{limit:5},VALID:{limit:10,sortDirection:"ASC"}}),Ct={RJ_SEAT:"/tickets",RJ_SRO:"/tickets/RJ_SRO",RJ_TIME:"/tickets/RJ_TIME"},Pt=function(e,t){return t.unpaid+e},Rt=function(e){return+new Date(e.expirationDate||e.conditions.expireAt||e.conditions.expiration||0)>+(new Date).valueOf()},At=["email"];function kt(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}var _t={headers:{"Content-Type":"application/1.2.0+json"},method:"POST"},It=function(n,r,o){void 0===n&&(n=Tt),void 0===r&&(r=!1),void 0===o&&(o="UNPAID");var i=vt().authorize,a=gt().setPaymentCode,u=t.useContextSelector(De,function(e){return e.state.user}),s=u.user,c=u.paymentMethodCode,l=je(x.payment),d=t.useContextSelector(_e,function(e){return e.state[x.payment]}),f=z("UNPAID"===o?n:{RJ_SEAT:n.RJ_SEAT.filter(function(e){return e.unpaid}),RJ_SRO:[],RJ_TIME:[]}),p=Ue({headers:{"Content-Type":"application/1.1.0+json"},method:"POST",url:"/payments/methods"}),m=p[0],v=m.data,h=m.error,g=m.loading,S=p[1],T=Ue({method:"POST",url:"/payments/form"}),E=T[0],y=E.data,C=E.error,P=E.loading,R=T[1],A=Ue(_({url:"/payments/pay"},_t)),k=A[0],b=k.error,O=k.loading,N=A[1],D=Ue({url:"/payments/credit/giftCertificate/add",method:"POST"}),L=D[0],M=L.error,U=L.loading,J=D[1],w=Ue(_({url:"/payments/credit/charge"},_t)),F=w[0],B=F.error,G=F.loading,j=w[1],H=e.useMemo(function(){return null==v?void 0:v.filter(function(e){return e.active&&e.paymentType})},[v]),Y=h||C||b||M||B,X=g||P||O||U||G;return e.useEffect(function(){var e;l(null==Y||null==(e=Y.response)||null==(e=e.data)?void 0:e.message,X)},[Y,X]),e.useEffect(function(){c&&null!=H&&H.length&&!H.some(function(e){return e.paymentMethodCode===c})&&a(null)},[H]),e.useEffect(function(){var e=new AbortController,t=e.signal;return!r&&null!=f&&f.length?S({data:{ticketIds:f},signal:t}):r&&S({data:{ticketIds:[]},signal:t}),function(){e.abort()}},[n,r]),_({addCreditByGift:function(e,t){return Promise.resolve(kt(function(){return Promise.resolve(J({data:e,signal:t})).then(function(){return!0})},function(){return!1}))},buyTickets:function(e,t,n,r,o,a){void 0===e&&(e=!1),void 0===t&&(t={}),void 0===n&&(n=f),void 0===r&&(r=!1);try{var u,l=kt(function(){function l(t){if(u)return t;var r={correlationId:h,formFields:v,paymentMethodCode:c,rememberCard:e,tickets:n};return $({event:"PAY",PAY:r}),Promise.resolve(N({data:r,headers:d,signal:o})).then(function(e){return u=1,{type:"payment",url:e.data.payRedirectUrl}})}var d=_({},_t.headers,{"X-TxToken":W()}),f=t.email,p=void 0===f?null==s?void 0:s.email:f,m=I(t,At),v=[{fieldType:We.email,fieldValue:p}].concat(Object.entries(m).filter(function(e){return e[1]}).map(function(e){return{fieldType:We[e[0]],fieldValue:e[1]}})),h="tickets&"+n.map(function(e){return e.type+"="+e.id}).join("&"),g=function(){if(s&&r)return Promise.resolve(j({data:_({tickets:n},null!=v&&v.length&&a?{formFields:v}:{}),headers:d,signal:o})).then(function(){return Promise.resolve(i(o)).then(function(){return u=1,{type:"credit",url:h}})})}();return g&&g.then?g.then(l):l(g)},function(){});return Promise.resolve(l&&l.then?l.then(function(e){return u?e:null}):u?l:null)}catch(e){return Promise.reject(e)}},getPaymentForm:function(e,t,n){return Promise.resolve(kt(function(){return Promise.resolve(R({data:_({paymentMethodCode:t||c},r?{tickets:[]}:{ticketIds:e?[e]:f}),headers:_({},r?{}:{"Content-Type":"application/1.1.0+json"}),signal:n})).then(function(e){return e.data})},function(){}))},getPaymentMethods:function(e,t){try{var n=kt(function(){return Promise.resolve(S({data:{ticketIds:r?[]:e||f},signal:t})).then(function(){})},function(){});return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},paymentForm:y,paymentFormLoading:P,paymentMethodsLoading:g,paymentMethods:H,ticketsAvailable:!(null==f||!f.length)},d)},bt=["addonCode"];P.default.config.threshold=.2;var Ot,Nt=.1,xt=function(e){var t=R.default(e.split(",")[0]).split(" - "),n=t[0],r=t[1];return r?[n].concat(n.split(/[ -]/g),[r]):[n].concat(n.split(/[ -]/g))},Dt=function(e,t){var n=e.name,r=e.aliases,o=function(e){return function(t){return xt(t.toLowerCase()).some(function(t){return t.startsWith(e)})}}(t),i=e.stations;return o(n)||(null==i?void 0:i.some(function(e){return o(e.name)}))||r.some(function(e){return R.default(e.toLowerCase()).startsWith(t)})};function Lt(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function Mt(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function Ut(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,n)}function Jt(e,t,n){if(!e.s){if(n instanceof Bt){if(!n.s)return void(n.o=Jt.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(Jt.bind(null,e,t),Jt.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}!function(e){e.ACCOUNT="ACCOUNT",e.BANK_TRANSFER="BANK_TRANSFER"}(Ot||(Ot={}));var wt,Ft,Bt=/*#__PURE__*/function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var i=1&o?t:n;if(i){try{Jt(r,1,i(this.v))}catch(e){Jt(r,2,e)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?Jt(r,1,t?t(o):o):n?Jt(r,1,n(o)):Jt(r,2,o)}catch(e){Jt(r,2,e)}},r},e}(),Gt=["loading"],jt=Object.freeze({FLEXI:"/",RJ_SEAT:"/tickets/",RJ_SRO:"/tickets/RJ_SRO/",RJ_TIME:"/tickets/timetickets/"}),Ht={"X-Application-Origin":"WEB"};exports.BookingContext=Pe,exports.PersistContext=Je,exports.ResponseStateContext=_e,exports.ShopReduxProvider=function(t){var n=t.children,r=t.env,o=void 0===r?O.QA:r,i=t.verbose,a=t.cache,u=t.applicationOrigin,s=void 0===u?"WEB":u,c=I(t,Ge);return U.defaults.baseURL=L[o],U.defaults.headers["X-Application-Origin"]=s,e.useEffect(function(){if(i){var e=U.interceptors.request.use(function(e){return console.log("Req: ",{baseURL:e.baseURL,data:e.data,headers:e.headers,params:e.params,url:e.url}),e}),t=U.interceptors.response.use(function(e){var t,n=null!=(t=e.request)?t:{};return console.log("Res: ",{baseURL:n.baseURL,data:e.data,headers:e.headers,params:n.params,status:e.status,url:n.url}),e},function(e){throw console.log("Res error: ",e,JSON.stringify(e,null,2)),e});return function(){U.interceptors.request.eject(e),U.interceptors.response.eject(t)}}},[i]),g.default.createElement(Le,_({},c),g.default.createElement(Be,{cache:a},n))},exports.StoreContext=De,exports.consts=q,exports.emptyTickets=Tt,exports.types=N,exports.useAddons=function(){var n=je(x.addons),r=t.useContextSelector(_e,function(e){return e.state[x.addons]}),o=Ue({url:"/addons",method:"POST"}),i=o[0],a=i.loading,u=i.error,s=i.data,c=o[1],l=Ue({url:"/addons/verify",method:"POST"}),d=l[0],f=d.loading,p=d.error,m=l[1],v=Ue({url:"/addons",method:"PUT"}),h=v[0],g=h.loading,S=h.error,T=v[1];return e.useEffect(function(){var e,t,r,o,i,s;n((null==u||null==(e=u.response)||null==(e=e.data)?void 0:e.message)||(null==p||null==(t=p.response)||null==(t=t.data)?void 0:t.message)||(null==S||null==(r=S.response)||null==(r=r.data)?void 0:r.message),a||f||g,(null==u||null==(o=u.response)||null==(o=o.data)?void 0:o.errorFields)||(null==p||null==(i=p.response)||null==(i=i.data)?void 0:i.errorFields)||(null==S||null==(s=S.response)||null==(s=s.data)?void 0:s.errorFields))},[u,a,p,f,S,g]),_({fetchAddons:function(e,t){return Promise.resolve(He(function(){return Promise.resolve(c({data:e,signal:t})).then(function(){return!0})},function(){return!1}))},putAddons:function(e,t,n){return Promise.resolve(He(function(){return Promise.resolve(T({data:{selectedAddons:t},params:{ticketId:e},signal:n})).then(function(){return!0})},function(){return!1}))},verifyAddons:function(e,t){return Promise.resolve(He(function(){return Promise.resolve(m({data:e,signal:t})).then(function(){return!0})},function(){return!1}))},data:null==s?void 0:s.filter(function(e){return e.maxCount}).sort(function(e,t){return t.price-e.price})},r)},exports.useApi=Me,exports.useBookingActions=Xe,exports.useBookingDiscount=function(e){void 0===e&&(e="there");var n=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)?void 0:t.isReturn}),r="back"===e&&n?"back":"there",o=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)?void 0:t[r]}),i=t.useContextSelector(Pe,function(e){return e.dispatch}),a=Ue({method:"POST"}),u=a[0],s=a[1];return{data:u.data,error:u.error,selectCodeDiscount:function(e,t){try{var n,a;return o?Promise.resolve(s({url:"number"==typeof e?"/discounts/percentual/"+e+"/verify":"/discounts/code/"+e+"/verify",data:{actionPrice:null,passengers:null==(n=o.tariffs)?void 0:n.map(function(e){return{tariff:e}}),route:{priceSource:o.priceSource,routeId:o.routeId,seatClass:o.seatClass,sections:null==(a=o.sections)?void 0:a.map(function(e){var t=e.selectedSeats;return{section:I(e,Ye),selectedSeats:t}})},ticketPrice:o.price},signal:t})).then(function(t){var n=t.data,a=o.price-n.discountedTicketPrice;i({type:he,payload:{direction:r,price:n.discountedTicketPrice}}),i("number"==typeof e?{type:pe,payload:{percentualDiscountIds:[e],discountAmount:a,direction:r}}:{type:fe,payload:{codeDiscount:e,discountAmount:a,direction:r}})}):Promise.resolve()}catch(e){return Promise.reject(e)}}}},exports.useBookingPrice=function(){var n=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)||null==(t=t.there)?void 0:t.selectedAddons}),r=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)||null==(t=t.back)?void 0:t.selectedAddons}),o=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)||null==(t=t.there)?void 0:t.price}),i=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)||null==(t=t.back)?void 0:t.price}),a=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)||null==(t=t.there)||null==(t=t.carbonOffset)?void 0:t.amount}),u=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)||null==(t=t.there)||null==(t=t.carbonOffset)?void 0:t.amount});console.log("🚀 ~ useBookingPrice ~ backCarbonOffsetPrice:",a),console.log("🚀 ~ useBookingPrice ~ thereCarbonOffsetPrice:",u);var s=e.useMemo(function(){return[].concat(n||[],r||[]).reduce(function(e,t){return e+t.price*t.count},0)},[n,r]),c=(null!=o?o:200)+(null!=i?i:200),l=(null!=a?a:0)+(null!=u?u:0);return{addonsPrice:s,backPrice:i,bookingPrice:c,therePrice:o,totalPrice:c+s+l,CarbonOffsetPrice:l}},exports.useCityPairs=function(t){var n=Ue({method:"GET",url:"/consts/cityPairs"}),r=n[0],o=r.data,i=void 0===o?[]:o,a=r.loading,u=n[1];return e.useEffect(function(){if(t){var e=new AbortController;return u({params:{fromCityId:t},signal:e.signal}),function(){e.abort()}}},[t]),{cityPairs:i,loading:a}},exports.useConnection=function(){var n=t.useContextSelector(De,function(e){var t;return null==(t=e.state.user.user)?void 0:t.creditPrice}),r=e.useRef(),o=e.useRef({}),i=Ue({url:$e,method:"GET",headers:et}),a=i[0],u=a.data,s=a.loading,c=i[1],l=e.useState(),d=l[0],f=l[1],p=Ke(),m=p.getCity,v=p.getStation,h=e.useState(!1),g=h[0],S=h[1],T=e.useMemo(function(){return!(null==u||!u.routes.some(function(e){var t=e.arrivalStationId,n=e.departureStationId;return!e.transfersCount&&e.vehicleTypes.includes("TRAIN")&&!(Qe.includes(t)||Qe.includes(n))}))},[u]),E=u&&{routesMessage:null!=d&&d.routesMessage&&u.routesMessage&&(null==d?void 0:d.routesMessage)!==u.routesMessage?[u.routesMessage,null==d?void 0:d.routesMessage].join("\n"):u.routesMessage||(null==d?void 0:d.routesMessage)||null,textBubbles:null!=d&&d.textBubbles.length?[].concat(u.textBubbles,d.textBubbles).filter(function(e,t,n){return t===n.findIndex(function(t){return t.id===e.id&&t.text===e.text})}):u.textBubbles,routes:(d?[].concat(u.routes,d.routes):u.routes).sort(function(e,t){return new Date(e.departureTime).valueOf()-new Date(t.departureTime).valueOf()}).map(function(e){return _({},e,{priceFrom:n?e.creditPriceFrom:e.priceFrom,priceTo:n?e.creditPriceTo:e.priceTo})})},y=function(e,t,n,r){return Promise.resolve(ze(function(){var i,a;d&&f(void 0);var u=!!Ze[e.fromLocationId]&&tt.includes("CITY"===e.toLocationType?null==(i=m(e.toLocationId))?void 0:i.code:null==(a=v(e.toLocationId))?void 0:a.countryCode);return Promise.resolve(Promise.all([c({headers:_({},t,et),params:_({},e,{departureDate:e.departureDate.slice(0,10)},n&&{move:n}),signal:r}),u&&U.get($e,{headers:t,signal:r,params:_({},e,{fromLocationId:Ze[e.fromLocationId],fromLocationType:"STATION",departureDate:e.departureDate.slice(0,10)},n&&{move:n})})])).then(function(e){var t=e[0].headers,n=e[1];return n&&f(n.data),o.current={"x-used-departurefromdatetime":t["x-used-departurefromdatetime"],"x-used-departuretodatetime":t["x-used-departuretodatetime"]},!0})},function(){return!1}))};return{data:E,fetchBackwardRoutes:function(e,t){return Promise.resolve(ze(function(){return Promise.resolve(y(r.current,_({},o.current,e),"BACKWARD",t))},function(){return!1}))},fetchConnection:function(e,t){var n=e.returnDepartureDate,o=e.fromLocationName,i=e.toLocationName,a=e.departureDate,u=I(e,qe);return Promise.resolve(ze(function(){r.current=_({},u,{departureDate:a});var e=_({},u,{departureDate:a,returnDepartureDate:n,fromLocationName:o,toLocationName:i});return Promise.resolve(y(e,{},void 0,t))},function(){return!1}))},fetchForwardRoutes:function(e,t){return Promise.resolve(ze(function(){return Promise.resolve(y(r.current,_({},o.current,e),"FORWARD",t))},function(){return!1}))},fetchSroRoutes:function(e,t){try{return S(!0),Promise.resolve(Promise.all([2,1].map(function(n){return U.get("/routes/search/RJ_SRO",{params:_({},e,{seatClass:n}),signal:t})}))).then(function(t){var n=t[0],r=t[1];return S(!1),n.data.map(function(t,n){var o=r.data[n];return _({},t,o?{pricesCount:t.pricesCount+o.pricesCount,creditPriceFrom:Math.min(t.creditPriceFrom,o.creditPriceFrom)*e.numberOfPassengers,creditPriceTo:Math.max(t.creditPriceTo,o.creditPriceTo)*e.numberOfPassengers,priceFrom:Math.min(t.priceFrom,o.priceFrom)*e.numberOfPassengers,priceTo:Math.max(t.priceTo,o.priceTo)*e.numberOfPassengers,freeSeatsCount:t.freeSeatsCount+o.freeSeatsCount}:{creditPriceFrom:t.creditPriceFrom*e.numberOfPassengers,creditPriceTo:t.creditPriceTo*e.numberOfPassengers,priceFrom:t.priceFrom*e.numberOfPassengers,priceTo:t.priceTo*e.numberOfPassengers})})})}catch(e){return Promise.reject(e)}},loading:s||g,shouldFindSro:T}},exports.useConnectionRoute=function(n){void 0===n&&(n=!1);var r=je(x.connectionRoute),o=t.useContextSelector(De,function(e){var t;return null==(t=e.state.user.user)?void 0:t.creditPrice}),i=Ue({}),a=i[0],u=a.data,s=a.error,c=a.loading,l=i[1],d=Ue({}),p=d[0],m=p.loading,v=p.error,h=p.data,g=d[1],S=Ue({}),T=S[0],E=T.data,y=S[1],C=m||T.loading,P=v||T.error,R=e.useMemo(function(){return u&&_({},u,{priceFrom:o?u.creditPriceFrom:u.priceFrom,priceClasses:u.priceClasses.map(function(e){return _({},e,{price:o?e.creditPrice:e.price,type:"RJ_SEAT"})})})},[u,o]),A=e.useCallback(function(e,t){return Promise.resolve(ut(function(){return Promise.resolve(l({url:"/routes/"+e.routeId+"/simple",params:e,signal:t})).then(function(e){return e.data})},function(){}))},[l]),k=e.useCallback(function(e,t){var n=e.routeId,r=I(e,at);try{var o=_({},r,{numberOfPassengers:r.tariffs.length}),i="/routes/"+n+"/RJ_SRO";return Promise.resolve(ut(function(){return Promise.resolve(Promise.all([y({params:_({},o,{departureDate:lt,seatClass:2}),signal:t,url:i}),g({params:_({},o,{departureDate:lt,seatClass:1}),signal:t,url:i})])).then(function(e){return e.flatMap(function(e){return e.data.priceClasses})})},function(){}))}catch(e){return Promise.reject(e)}},[g,y]),b=c||C,O=s||P;return e.useEffect(function(){var e,t;n||r((null==O||null==(e=O.response)||null==(e=e.data)?void 0:e.message)||Y(O),b,null==O||null==(t=O.response)||null==(t=t.data)?void 0:t.errorFields)},[b,O]),{data:R,fetchRoute:A,fetchSroRoutes:k,rjSroClasses:e.useMemo(function(){var e,t;return null!=h&&h.priceClasses.length||null!=E&&E.priceClasses.length?[].concat(null!=(e=null==h?void 0:h.priceClasses)?e:[],null!=(t=null==E?void 0:E.priceClasses)?t:[]).map(function(e){return _({},e,{tariffs:new Array(e.numberOfPassengers).fill(f.Regular),price:e.price*e.numberOfPassengers,type:"RJ_SRO"})}):ct},[h,E]),routeError:O,routeLoading:b}},exports.useCreateTickets=function(){var n,r,o=t.useContextSelector(De,function(e){return!!e.state.user.user}),i=vt().setToken,a=je(x.createTickets),u=t.useContextSelector(_e,function(e){return e.state[x.createTickets]}),s=Xe().clearBooking,c=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)?void 0:t.there}),l=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)?void 0:t.back}),d=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)?void 0:t.connection});t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)||null==(t=t.there)?void 0:t.carbonOffset});var m=It(),v=m.buyTickets,h=m.loading,g=m.error,S=(null!=(n=null==c?void 0:c.price)?n:0)+(null!=(r=null==l?void 0:l.price)?r:0),T=Ue({url:"/tickets/create/unregistered",method:"POST",headers:{"Content-Type":"application/1.2.0+json"}}),E=T[0],y=E.loading,C=E.error,P=T[1],R=Ue({url:"/tickets/create/registered",method:"POST",headers:{"Content-Type":"application/1.2.0+json"}}),A=R[0],k=A.loading,b=A.error,O=R[1],N=Ue({url:"/tickets/timetickets/unregistered",method:"POST"}),D=N[0],L=D.loading,M=D.error,J=N[1],w=Ue({url:"/tickets/timeticket",method:"POST"}),F=w[0],B=F.loading,G=F.error,j=w[1],H=Ue({url:"/tickets/RJ_SRO/unregistered",method:"POST"}),Y=H[0],X=Y.loading,K=Y.error,q=H[1],z=Ue({url:"/tickets/RJ_SRO/registered",method:"POST"}),V=z[0],Q=z[1],Z=M||C||K||V.error||G||b,$=L||y||X||V.loading||B||k||h;return e.useEffect(function(){var e;a((null==Z||null==(e=Z.response)||null==(e=e.data)?void 0:e.message)||(null==g?void 0:g.message),$)},[Z,$]),_({createTickets:function(e,t,n,r,a){try{var u;return Promise.resolve(function(){try{var m=function(){function m(e){return u?e:(s(),{redirect:S?"cart":"tickets",newSeats:y||[],ticketTypeId:C})}if(!d)throw new Error("no connection");var h=[c,l].filter(Boolean),g=h.filter(function(e){return"RJ_SEAT"===e.type}),T=h.filter(function(e){return"RJ_SRO"===e.type}),E=h.filter(function(e){return["RJ_TIME","FLEXI"].includes(e.type)}),y=null,C=void 0,R={ticketRequests:g.map(function(r){return{passengers:(o=(null==r?void 0:r.tariffs)||[],t.length?t.map(function(t,r){return _({},t.fields,{tariff:o[r]||f.Regular,phone:r?void 0:n,email:r?void 0:e})}):o.map(function(t,r){return _({tariff:t},r?{}:{phone:n,email:e})})),route:{routeId:(null==r?void 0:r.routeId)||"",priceSource:(null==r?void 0:r.priceSource)||"",sections:((null==r?void 0:r.sections)||[]).map(function(e){var t=e.sectionId;return{section:{fromStationId:e.fromStationId,sectionId:t,toStationId:e.toStationId},selectedSeats:(e.selectedSeats||[]).map(function(e){return _({},e,{sectionId:t})})}}),seatClass:(null==r?void 0:r.seatClass)||p.No},selectedAddons:((null==r?void 0:r.selectedAddons)||[]).map(function(e){return I(e,bt)}),percentualDiscountIds:r.percentualDiscountIds||[],codeDiscount:r.codeDiscount};var o}),affiliateCode:ee()},A=R.ticketRequests.flatMap(function(e){return e.route.sections.flatMap(function(e){return e.selectedSeats})}),k={ticketRequests:T.map(function(t){return{routeId:t.routeId,seatClass:t.seatClass,passengers:((null==t?void 0:t.tariffs)||[]).map(function(){return{email:e}}),sections:((null==t?void 0:t.sections)||[]).map(function(e){var t=e.sectionId;return{section:{fromStationId:e.fromStationId,sectionId:t,toStationId:e.toStationId},selectedSeats:(e.selectedSeats||[]).map(function(e){return _({},e,{sectionId:t})})}}),priceSourceId:t.priceSource}})},b={unregisteredTimeTicketCreateRequest:E.map(function(t){return{email:e,lineGroupCode:t.lineGroupCode,lineNumber:t.lineNumber,seatClassKey:t.seatClass,station1Id:t.fromStationId,station2Id:t.toStationId,tariff:t.tariffs[0],timeTicketType:t.flexiType||"FLEX",validFrom:d.departureDate}})},N={timeTicketRequests:E.flatMap(function(e){return(e.tariffs||[]).map(function(t){return{lineGroupCode:e.lineGroupCode,lineNumber:e.lineNumber,seatClass:e.seatClass,station1Id:e.fromStationId,station2Id:e.toStationId,tariff:t,type:e.flexiType||"FLEX",validFrom:d.departureDate}})})},x=function(){if(o){var c=function(e){if(u)return e;function n(e){function n(e){var t=l.tickets.flatMap(function(e){return e.routeSections.flatMap(function(e){return e.selectedSeats})});y=oe(A,t)}var o=function(){if(T.length)return Promise.resolve(Q({data:k,headers:{"X-TxToken":W()},signal:a})).then(function(){return function(){if(r)return Promise.resolve(U.get("/tickets/RJ_SRO",_({params:{limit:1,ticketStates:["UNPAID"]}},void 0))).then(function(e){return C=e.data.map(function(e){return{type:"RJ_SRO",id:e.sroTicketId}}),Promise.resolve(v(!1,t[0].fields,C,!0,a)).then(function(){return s(),u=1,{redirect:"tickets",newSeats:[],ticketTypeId:C}})})}()})}();return o&&o.then?o.then(n):n()}var o=function(){if(E.length)return Promise.resolve(j({data:N,headers:{"X-TxToken":W(),"Content-Type":"application/1.2.0+json"},signal:a})).then(function(e){var n=e.data;return function(){if(r)return C=n.map(function(e){return{type:"RJ_TIME",id:e}}),Promise.resolve(v(!1,t[0].fields,C,!0,a)).then(function(){return s(),u=1,{redirect:"tickets",newSeats:[],ticketTypeId:C}})}()})}();return o&&o.then?o.then(n):n()},l={tickets:[]},d=function(){if(g.length)return Promise.resolve(O({data:R,signal:a})).then(function(o){var i=o.data;l=i,C=i.tickets.map(function(e){return{type:"RJ_SEAT",id:parseInt(e.id,10)}});var c=l.tickets.flatMap(function(e){return e.routeSections.flatMap(function(e){return e.selectedSeats})});if(0===g.reduce(function(e,t){return e+(t.price||0)},0)){var d={redirect:"tickets",newSeats:oe(A,c),ticketTypeId:C};return u=1,d}return function(){var o;if(r)return Promise.resolve(v(!1,_({email:e,phone:n},(null==t||null==(o=t[0])?void 0:o.fields)||{}),C,!0,a)).then(function(e){if(s(),!e)return u=1,{redirect:"checkout",newSeats:[],ticketTypeId:C};var t={redirect:"tickets",newSeats:oe(A,c),ticketTypeId:C};return u=1,t})}()})}();return d&&d.then?d.then(c):c(d)}var f=function(){function e(){function e(){return Promise.resolve(i(p)).then(function(){})}var t=function(){if(T.length){var e=p?Promise.resolve(Q({data:k,headers:{"X-TxToken":W()},signal:a})).then(function(){}):Promise.resolve(q({data:_({},k,{agreeWithTerms:!0}),headers:{"X-TxToken":W()},signal:a})).then(function(e){var t=e.data;p=t.token,U.defaults.headers.Authorization="Bearer "+t.token});if(e&&e.then)return e.then(function(){})}}();return t&&t.then?t.then(e):e()}var t=function(){if(E.length){var e=p?Promise.resolve(j({data:N,headers:{"X-TxToken":W()},signal:a})).then(function(){}):Promise.resolve(J({data:b,headers:{"Content-Type":"application/1.2.0+json","X-TxToken":W()},signal:a})).then(function(e){var t=e.data;p=t.token.token,U.defaults.headers.Authorization="Bearer "+t.token.token});if(e&&e.then)return e.then(function(){})}}();return t&&t.then?t.then(e):e()},p=null,m=function(){if(g.length)return Promise.resolve(P({data:_({},R,{agreeWithTerms:!0}),signal:a})).then(function(e){var t=e.data;C=t.tickets.map(function(e){return{id:parseInt(e.id,10),type:"RJ_SEAT"}});var n=t.tickets.flatMap(function(e){return e.routeSections.flatMap(function(e){return e.selectedSeats})});y=oe(A,n),p=t.token,U.defaults.headers.Authorization="Bearer "+t.token})}();return m&&m.then?m.then(f):f()}();return x&&x.then?x.then(m):m(x)}()}catch(e){return{redirect:"",newSeats:[]}}return m&&m.then?m.then(void 0,function(){return{redirect:"",newSeats:[]}}):m}())}catch(e){return Promise.reject(e)}}},u)},exports.useCredit=function(n){var r=t.useContextSelector(De,function(e){return e.state.user}),o=t.useContextSelector(De,function(e){return e.state.user.currency}),i=je(x.credit),a=t.useContextSelector(_e,function(e){return e.state[x.credit]}),u=Ue({url:"/payments/credit/add",method:"POST"}),s=u[0],c=s.error,l=s.loading,d=u[1];return e.useEffect(function(){var e;i(null==c||null==(e=c.response)||null==(e=e.data)?void 0:e.message,l)},[c,l]),_({addCredit:function(e,t,i,a,u,s){void 0===i&&(i=!1),void 0===a&&(a=void 0),void 0===u&&(u={});try{return Promise.resolve(function(){if(r.user){var c=i?(a||z(n)).map(function(e){return e.type+"="+e.id}).join("&"):null;return function(){try{var n=(a={amount:"EUR"===o?parseFloat(e.toFixed(1)):e,currency:o,paymentMethodCode:r.paymentMethodCode,correlationId:"credit"+(c?"&"+c:""),formFields:[{fieldType:We.email,fieldValue:(null==(i=u)?void 0:i.email)||r.user.email},u.firstName&&{fieldType:We.firstName,fieldValue:u.firstName},u.surname&&{fieldType:We.surname,fieldValue:u.surname},u.customerName&&{fieldType:We.customerName,fieldValue:u.customerName},u.customerAddress&&{fieldType:We.customerAddress,fieldValue:u.customerAddress}].filter(Boolean),rememberCard:t},$({event:"ADD_CREDIT",ADD_CREDIT:a}),Promise.resolve(d({data:a,signal:s})).then(function(e){return e.data.payRedirectUrl}))}catch(e){return}var i,a;return n&&n.then?n.then(void 0,function(){}):n}()}}())}catch(e){return Promise.reject(e)}}},a)},exports.useDepartures=function(n,r){void 0===r&&(r=10);var o=t.useContextSelector(De,function(e){return e.state.user.language}),i=Me({headers:{Accept:"application/1.1.0+json"},method:"GET",url:"/routes/"+n+"/departures?limit="+r}),a=i[0],u=a.loading,s=a.error,c=a.data,l=i[1];return e.useEffect(function(){U.defaults.headers.common["X-Lang"]="de-AT"===o?"at":o;var e=new AbortController;return l({signal:e.signal}),function(){e.abort()}},[o]),{data:c,error:s,fetchDepartures:l,loading:u}},exports.useFlexiTickets=function(){var t=Ue({}),n=t[0],r=n.data,o=n.loading,i=t[1],a=function(e,t,n){return Promise.resolve(function(){try{var r=(o=e.routeId,s=e.tariffs,!re(a=e.fromStationId,u=e.toStationId)||1!==s.length||Promise.resolve(i({signal:n,url:"/pricelists/timeticket/"+o+"/"+a+"/"+u+"/FLEX/"+t+"/"+s[0]})).then(function(){return!0}))}catch(e){return!1}var o,a,u,s;return r&&r.then?r.then(void 0,function(){return!1}):r}())};return e.useMemo(function(){return{data:r,fetchRoute:a,loading:o}},[o,r])},exports.useHeaders=function(){var e=t.useContextSelector(De,function(e){return e.state.user});return{currency:e.currency,language:e.language||"cs",token:e.token}},exports.useHeadersActions=vt,exports.useLineTimetables=function(t,n){var r=t.timeTableId,o=Me({url:"/consts/timetables/"+t.code+"/"+t.number,method:"GET",headers:Ht})[0],i=o.error,a=o.loading,u=o.data,s=void 0===u?[]:u,c=Ue({url:"/consts/timetables/"+r+"/symbols",method:"GET",headers:Ht}),l=c[0].data,d=void 0===l?[]:l,f=c[1],p=Ue({url:"/consts/timetables/"+r+"/time-codes",method:"GET",headers:Ht}),m=p[0].data,v=void 0===m?[]:m,h=p[1];return e.useEffect(function(){if(n){var e=new AbortController,t=e.signal;return f({signal:t}),h({signal:t}),function(){e.abort()}}},[n]),{error:i,loading:a,data:s,symbols:d,timeCodes:v}},exports.useLines=function(e){var t=Me({url:"/consts/lines/"+e,headers:{"X-Application-Origin":"WEB"},method:"GET"})[0],n=t.data,r=t.loading;return{data:(void 0===n?[]:n).filter(function(e){return["WEB","WEB1"].includes(e.lineGroupCode)}),loading:r}},exports.useLocations=Ke,exports.useManualApi=Ue,exports.usePassengersData=function(){var n,r=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)?void 0:t.connection}),o=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)?void 0:t.there}),i=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)?void 0:t.back}),a=je(x.passengersData),u=Ue({}),s=u[0],c=s.data,l=s.loading,d=s.error,f=u[1],p=Ue({}),m=p[0],v=m.data,h=p[1],g=l||m.loading,S=d||m.error,T=e.useMemo(function(){var e,t;if(!c||null!=i&&i.routeId&&!v||!r)return{contactData:{email:!0},personalData:{from:null==r?void 0:r.fromLocationName,passengers:[],to:null==r?void 0:r.toLocationName}};var n=!v||c.otherPassengersData.length>v.otherPassengersData.length?c:v;return{contactData:{email:!0,phone:n.firstPassengerData.some(function(e){return e.includes(We.phone)})},personalData:{from:r.fromLocationName,to:r.toLocationName,passengers:Array.from({length:null!=(e=null==(t=o||i)||null==(t=t.tariffs)?void 0:t.length)?e:1}).map(function(e,t){var r;return{fields:(t?n.otherPassengersData:n.firstPassengerData.filter(function(e){return!["EMAIL","PHONE"].includes(e)})).map(function(e){return{name:ot[e],value:""}}),tariff:null==(r=o||i)||null==(r=r.tariffs)?void 0:r[t]}})}}},[c,v]);return e.useEffect(function(){var e;a(null==S||null==(e=S.response)||null==(e=e.data)?void 0:e.message,g)},[g,S]),e.useEffect(function(){if(null!=i&&i.routeId&&i.type&&!it.includes(i.type)){var e,t=new AbortController,n=t.signal;return h("RJ_SRO"===(null==i?void 0:i.type)?{params:{departureDate:new Date,fromStationId:null==i?void 0:i.fromStationId,numberOfPassenger:null==i||null==(e=i.tariffs)?void 0:e.length,routeId:null==i?void 0:i.routeId,seatClass:1,toStationId:null==i?void 0:i.toStationId},signal:n,url:"/routes/"+(null==i?void 0:i.routeId)+"/passengersData/RJ_SRO"}:{data:{priceSource:null==i?void 0:i.priceSource,seatClass:null==i?void 0:i.seatClass,sections:((null==i?void 0:i.sections)||[]).map(function(e){return I(e,nt)}),tariffs:null==i?void 0:i.tariffs},method:"POST",signal:n,url:"/routes/"+(null==i?void 0:i.routeId)+"/passengersData"}),function(){t.abort()}}},[null==i?void 0:i.routeId]),e.useEffect(function(){if(null!=o&&o.routeId&&o.type&&!it.includes(o.type)){var e,t=new AbortController,n=t.signal;return f("RJ_SRO"===(null==o?void 0:o.type)?{params:{departureDate:new Date,fromStationId:null==o?void 0:o.fromStationId,numberOfPassenger:null==o||null==(e=o.tariffs)?void 0:e.length,routeId:null==o?void 0:o.routeId,seatClass:1,toStationId:null==o?void 0:o.toStationId},signal:n,url:"/routes/"+(null==o?void 0:o.routeId)+"/passengersData/RJ_SRO"}:{data:{priceSource:null==o?void 0:o.priceSource,seatClass:null==o?void 0:o.seatClass,sections:((null==o?void 0:o.sections)||[]).map(function(e){return I(e,rt)}),tariffs:null==o?void 0:o.tariffs},method:"POST",signal:n,url:"/routes/"+(null==o?void 0:o.routeId)+"/passengersData"}),function(){t.abort()}}},[null==o?void 0:o.routeId]),{data:T,error:null==S||null==(n=S.response)?void 0:n.data.message,loading:g}},exports.usePayment=It,exports.usePaymentsHistory=function(){var e=Ue({url:"/payments",method:"GET",headers:{Accept:"application/1.1.0+json"}}),t=e[0],n=t.data,r=t.loading,o=t.error,i=t.response,a=e[1],u=Math.floor(+((null==i?void 0:i.headers["x-pagination-total"])||0)/10)+1;return{data:n,error:o,fetchInvoice:function(e,t,r){return Promise.resolve(Lt(function(){var o=null==n?void 0:n.find(function(t){return t.paymentId===e});return Promise.resolve(U.get("/payments/"+e+"/print/"+(t||(null!=o&&o.ticketId?"invoice":"receipt")),{signal:r})).then(function(e){return e.data})},function(){}))},fetchInvoices:function(e,t){return Promise.resolve(Lt(function(){return Promise.resolve(U.post("/payments/print/invoice",{invoices:e},{signal:t})).then(function(e){return e.data})},function(){}))},fetchPaymentsHistory:function(e,t,n){void 0===t&&(t=0);try{var r=Lt(function(){return Promise.resolve(a({params:_({},e,{limit:10,offset:10*t}),signal:n})).then(function(){})},function(){});return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},loading:r,pages:u}},exports.useSearchLocations=function(n){var r=t.useContextSelector(De,function(e){return e.state.user.language}),o=n.length>=3,i=Ke().data,a=e.useMemo(function(){return i?new P.default(i.map(function(e){return{country:(t=e.name,R.default(t.split(",")[1].trim())),aliases:e.aliases.map(R.default),name:xt(e.name),fullName:R.default(e.name),stations:e.stations.map(function(e){return{aliases:e.aliases.map(R.default),name:xt(e.name),fullName:R.default(e.name)}})};var t}),{includeScore:!0,keys:[{name:"country",weight:.5},{name:"fullName",weight:.5},{name:"name",weight:.9},{name:"aliases",weight:.2},{name:"stations.name",weight:.8},{name:"stations.fullName",weight:.4},{name:"stations.aliases",weight:.2}]}):void 0},[i]),u=e.useMemo(function(){if(!o||!a||null==i||!i.length)return[];var e=R.default(n).trim().toLowerCase();return a.search(e).map(function(t){var n,r=i[t.refIndex];if(!r.stations.length)return _({},r,{refIndex:t.refIndex,score:t.score,significance:null!=(n=r.significance)?n:0});var o=new P.default(r.stations.map(function(e){return{country:t.item.country,aliases:e.aliases.map(R.default),name:xt(e.name),fullName:R.default(e.name)}}),{includeScore:!0,keys:["name","aliases","fullName","country"]}).search(e).sort(function(e,t){return function(n,r){var o=e[n.refIndex],i=e[r.refIndex];return+Dt(i,t)-+Dt(o,t)||(n.score>Nt||r.score>Nt?n.score-r.score:i.significance-o.significance||n.score-r.score)}}(r.stations,e)).map(function(e){return r.stations[e.refIndex]});return _({},r,{refIndex:t.refIndex,score:t.score,significance:Math.max.apply(Math,o.map(function(e){return e.significance})),stations:o})}).sort(function(e,t){return function(n,r){var o=+Dt(r,e)-+Dt(n,e);if(o)return o;if(n.score>Nt||r.score>Nt)return n.score-r.score;var i=r.significance-n.significance;if(i)return i;var a=X[t],u=ie(a,n.code)-ie(a,r.code);return u||i?u:n.score-r.score}}(e,r)).slice(0,6)},[a,o&&n]);return{filtered:u,shouldSearch:o}},exports.useSeatClasses=function(){var n=je(x.seatClasses),r=t.useContextSelector(_e,function(e){return e.state[x.seatClasses]}),o=t.useContextSelector(Je,function(e){return e.seatClassesResponse}),i=o.error,a=o.loading,u=t.useContextSelector(Je,function(e){return e.seatClasses}),s=null==u?void 0:u.reduce(function(e,t){return e[t.key]=t,e},{});return e.useEffect(function(){var e;n(null==i||null==(e=i.response)?void 0:e.data.message,!!a)},[n,i,a]),_({data:s},r)},exports.useSeats=function(n){var r=Ue({method:"POST"}),o=r[0],i=o.data,a=o.error,u=o.loading,s=r[1],c=je(x.seats),l=t.useContextSelector(_e,function(e){return null!=n&&n.ignoreGlobalState?void 0:e.state[x.seats]});return e.useEffect(function(){var e;null!=n&&n.ignoreGlobalState||c(null==a||null==(e=a.response)||null==(e=e.data)?void 0:e.message,u)},[null==n?void 0:n.ignoreGlobalState,a,u]),_({data:i,fetchSeats:function(e,t){return Promise.resolve(function(){try{var n=Promise.resolve(s({url:"/routes/freeSeats",data:e,headers:{"Content-Type":"application/json"},signal:t})).then(function(){return!0})}catch(e){return!1}return n&&n.then?n.then(void 0,function(){return!1}):n}())},error:a,loading:u},l)},exports.useSetResponseState=je,exports.useTariffs=function(){var n=je(x.tariffs),r=t.useContextSelector(_e,function(e){return e.state[x.tariffs]}),o=t.useContextSelector(Je,function(e){return e.tariffsResponse}),i=o.error,a=o.loading,u=t.useContextSelector(Je,function(e){return e.tariffs});return e.useEffect(function(){var e;n(null==i||null==(e=i.response)||null==(e=e.data)?void 0:e.message,!!a)},[i,a]),_({data:u},r)},exports.useTicketActions=function(n,r){var o=n.id,i=n.type,a=vt().authorize,u=je(x.ticketAction),s=t.useContextSelector(_e,function(e){return e.state[x.ticketAction]}),c=e.useState(!1),l=c[0],d=c[1],p=e.useState(),m=p[0],v=p[1],h=Ue({url:"/tickets/"+i+"/"+o+"/sendByEmail",method:"POST"}),g=h[0],S=g.error,T=g.loading,E=h[1],y=Ue({url:"/tickets/"+i+"/"+o+"/pdf",method:"GET",responseType:"blob"}),C=y[0],P=C.error,R=C.loading,A=y[1],k=Ue({method:"PUT",url:"/tickets/"+o+"/submitWheelChairPlatformOrder"}),I=k[0],b=I.error,O=I.loading,N=k[1],D=Ue({url:"/tickets"+("RJ_TIME"===i?"/timeticket":"")+"/"+o+"/qrcode",method:"GET"}),L=D[0],M=L.error,J=L.loading,w=D[1],F=(r?Me:Ue)({url:"/tickets/"+r+"/questionnaireUrls",method:"GET"})[0].data,B=Ue({url:"/tickets/"+o+"/cancel",method:"PUT"}),G=B[0],j=G.error,H=G.loading,Y=B[1],X=Ue({url:"/tickets/timeticket/"+o,method:"DELETE"}),K=X[0],q=K.error,z=K.loading,V=X[1],Q=Ue({url:"/tickets/RJ_SRO/"+o,method:"DELETE"}),Z=Q[0],$=Z.error,ee=Z.loading,te=Q[1],ne=Ue({url:"/tickets/"+o,method:"GET",headers:{Accept:"application/1.2.0+json"}}),re=ne[0],oe=re.error,ie=re.loading,ae=ne[1],ue=[2,i,o].join(";"),se=S||P||M||b||j||q||$||m||oe,ce=T||R||J||O||H||z||ee||l||ie;return e.useEffect(function(){var e;u(null==se||null==(e=se.response)||null==(e=e.data)?void 0:e.message,ce)},[se,ce]),_({cancel:function(e,t,n){return void 0===t&&(t=!1),Promise.resolve(Mt(function(){function r(){return Promise.resolve(a(n)).then(function(){return{status:u>=200&&u<300}})}var o={controlHash:e,refundToOriginalSource:t},u=500,s=function(e,t){var n,r=-1;e:{for(var o=0;o<t.length;o++){var i=t[o][0];if(i){var a=i();if(a&&a.then)break e;if(a===e){r=o;break}}else r=o}if(-1!==r){do{for(var u=t[r][1];!u;)r++,u=t[r][1];var s=u();if(s&&s.then){n=!0;break e}var c=t[r][2];r++}while(c&&!c());return s}}var l=new Bt,d=Jt.bind(null,l,2);return(n?s.then(f):a.then(function n(a){for(;;){if(a===e){r=o;break}if(++o===t.length){if(-1!==r)break;return void Jt(l,1,s)}if(i=t[o][0]){if((a=i())&&a.then)return void a.then(n).then(void 0,d)}else r=o}do{for(var u=t[r][1];!u;)r++,u=t[r][1];var s=u();if(s&&s.then)return void s.then(f).then(void 0,d);var c=t[r][2];r++}while(c&&!c());Jt(l,1,s)})).then(void 0,d),l;function f(e){for(;;){var n=t[r][2];if(!n||n())break;r++;for(var o=t[r][1];!o;)r++,o=t[r][1];if((e=o())&&e.then)return void e.then(f).then(void 0,d)}Jt(l,1,e)}}(i,[[function(){return"RJ_SEAT"},function(){return Promise.resolve(ae({signal:n})).then(function(e){var r=e.status;return Promise.resolve(Y({data:r>=200&&r<300?{controlHash:e.data.conditions.code,refundToOriginalSource:t}:o,signal:n})).then(function(e){u=e.status})})}],[function(){return"RJ_TIME"},function(){return Promise.resolve(V({signal:n})).then(function(e){u=e.status})}],[function(){return"RJ_SRO"},function(){return Promise.resolve(te({data:o,headers:{"X-TxToken":W()},signal:n})).then(function(e){u=e.status})}]]);return s&&s.then?s.then(r):r()},function(){}))},getAppleWalletFile:function(e,t){try{return d(!0),Promise.resolve(Ut(function(){return Mt(function(){return Promise.resolve(U.get("/apple-wallet/"+r+"/"+e,{headers:{Accept:"application/vnd.apple.pkpass"},responseType:"blob",signal:t})).then(function(e){return e.data})},function(e){v(e)})},function(e,t){if(d(!1),e)throw t;return t}))}catch(e){return Promise.reject(e)}},getPdf:A,getQr:w,orderWheelChairPlatform:function(e,t){try{try{return N({data:e,signal:t}),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}catch(e){return Promise.reject(e)}},partialCancel:function(e,t,n,r,o){void 0===r&&(r=!1);try{return Promise.resolve(Ut(function(){return Mt(function(){d(!0);var i=!0,a=function(t,a){try{var u=Mt(function(){var u=n.map(function(e){return e[a]});return Promise.resolve(U.delete("/tickets/"+e+"/passengers/"+t.id,{data:{refundToOriginalSource:r,seats:u},signal:o})).then(function(e){(e.status<200||e.status>=300)&&(i=!1)})},function(){i=!1});return Promise.resolve(u&&u.then?u.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},u=t.filter(function(e){return e.tariff===f.DisabledAttendance}),s=t.filter(function(e){return e.tariff!==f.DisabledAttendance});return Promise.resolve(Promise.all(u.map(function(e,t){return a(e,t)}))).then(function(){return Promise.resolve(Promise.all(s.map(function(e,t){return a(e,t+u.length)}))).then(function(){return{status:i}})})},function(e){return v(e),{status:!1}})},function(e,t){if(d(!1),e)throw t;return t}))}catch(e){return Promise.reject(e)}},qrText:ue,questionnaireUrls:F,sendByEmail:function(e,t){return Promise.resolve(Mt(function(){return Promise.resolve(E({data:{email:e},signal:t})).then(function(){return!0})},function(){return!1}))}},s)},exports.useTicketReview=function(n){var r=n.ticketId,o=n.luh,i=je(x.ticketReview),a=t.useContextSelector(De,function(e){return e.state.user.token}),u=Ue({url:"/tickets/authenticate/"+o,method:"POST",headers:{"Content-Type":"application/json"},data:{}}),s=u[0],c=s.data,l=s.loading,d=s.error,f=u[1],p=Ue({url:"tickets/"+r+"/rating",method:"GET"}),m=p[0],v=m.loading,h=I(m,Gt),g=p[1],S=Ue({url:"tickets/"+r+"/rating",method:"PUT"}),T=S[0],E=T.loading,y=T.error,C=S[1];return e.useEffect(function(){var e=new AbortController,t=e.signal;return o&&null!=c&&c.token?g({headers:{Authorization:"Bearer "+(null==c?void 0:c.token)},signal:t}):!o&&a&&g({signal:t}),function(){e.abort()}},[null==c?void 0:c.token]),e.useEffect(function(){if(o){var e=new AbortController;return f({signal:e.signal}),function(){e.abort()}}},[o]),e.useEffect(function(){var e,t,n;i((null==(e=h.error)||null==(e=e.response)||null==(e=e.data)?void 0:e.message)||(null==d||null==(t=d.response)||null==(t=t.data)?void 0:t.message)||(null==y||null==(n=y.response)||null==(n=n.data)?void 0:n.message),l||v||E)},[h.error,d,y,v,l,v]),{reviewForm:h,loading:l||v||E,sendReview:function(e,t){return Promise.resolve(function(){try{var n=Promise.resolve(C({data:e,headers:o?{Authorization:"Bearer "+(null==c?void 0:c.token)}:void 0,signal:t})).then(function(){return $({event:"SENT_REVIEW",SENT_REVIEW:e}),!0})}catch(e){return!1}return n&&n.then?n.then(void 0,function(){return!1}):n}())}}},exports.useTickets=function(){var n=je(x.ticket),o=t.useContextSelector(_e,function(e){return e.state[x.ticket]}),i=e.useState(),a=i[1];return _({fetchTickets:function(e,t){try{if(n(void 0,!0),!e.length)return a(void 0),n(void 0,!1),Promise.resolve(!0);var o={RJ_SEAT:[],RJ_TIME:[],RJ_SRO:[],FLEXI:[]};return e.forEach(function(e,t){return o[e.type].push(t)}),Promise.resolve(function(r,i){try{var u=Promise.resolve(Promise.all(e.map(function(e){var n=e.type;return U.get(jt[n]+e.id,{signal:t,headers:"RJ_SEAT"===n?{Accept:"application/1.3.0+json"}:void 0})}))).then(function(e){var t=e.map(function(e){return e.data}),r={RJ_SEAT:t.filter(function(e,t){return o.RJ_SEAT.includes(t)}),RJ_TIME:t.filter(function(e,t){return o.RJ_TIME.includes(t)}),RJ_SRO:t.filter(function(e,t){return o.RJ_SRO.includes(t)})};return $({event:"BOUGHT_TICKETS",BOUGHT_TICKETS:r}),a(r),n(void 0,!1),!0})}catch(e){return i(e)}return u&&u.then?u.then(void 0,i):u}(0,function(e){var t;return n(r.isAxiosError(e)?(null==(t=e.response)?void 0:t.data.message)||Y(e):j,!1),!1}))}catch(e){return Promise.reject(e)}},tickets:i[0]},o)},exports.useTimeTickets=function(){var n=t.useContextSelector(Pe,function(e){var t;return null==(t=e.state.booking)?void 0:t.connection.departureDate}),r=Ue({}),o=r[0],i=o.data,a=o.loading,u=o.error,s=r[1],c=Ue({}),l=c[0],d=l.data,f=l.loading,p=l.error,m=c[1],v=Ue({}),h=v[0],g=h.data,S=v[1],T=a||f||h.loading,E=u||p||h.error,y=!!(null!=i&&i.length&&null!=d&&d.length&&null!=g&&g.length);return{data:e.useMemo(function(){return(y?[i,d,g]:[]).flatMap(function(e,t){return e.map(function(e){return{flexiType:dt[t],lineGroupCode:e.lineGroupCode,lineNumber:e.lineNumber,price:e.price,seatClassKey:e.seatClassKey,type:"FLEXI"}})})},[y]),error:E,fetchRoute:function(e,t){var r=e.fromStationId,o=e.toStationId,i=e.tariffs,a=e.routeId;try{return Promise.resolve(Promise.all([s({signal:t,url:"/pricelists/timeticket/"+a+"/"+r+"/"+o+"/"+st.Week+"/"+n+"/"+i[0]}),m({signal:t,url:"/pricelists/timeticket/"+a+"/"+r+"/"+o+"/"+st.Month+"/"+n+"/"+i[0]}),S({signal:t,url:"/pricelists/timeticket/"+a+"/"+r+"/"+o+"/"+st.Quarter+"/"+n+"/"+i[0]})])).then(function(){})}catch(e){return Promise.reject(e)}},loading:T}},exports.useTimetables=function(e){var t=Ke().getStation,n=Me({url:"/consts/timetables/"+e,method:"GET"})[0],r=n.data;return{error:n.error,loading:n.loading,stations:((null==r?void 0:r.stations)||[]).map(function(e){return _({},e,t(e.stationId))}),fromCityName:null==r?void 0:r.fromCityName,toCityName:null==r?void 0:r.toCityName,carrierId:null==r?void 0:r.carrierId}},exports.useUpsell=function(){var e=t.useContextSelector(De,function(e){return e.dispatch.upsellDispatch}),n=t.useContextSelector(De,function(e){return e.state.upsell.cooldownTs});return{acceptUpsell:function(){return $({event:"ACCEPT_UPSELL",ACCEPT_UPSELL:{acceptedClass:wt,priceDiff:Ft,currency:U.defaults.headers.common["X-Currency"]}})},refuseUpsell:function(){return e({type:"REFUSE_UPSELL"})},shouldShowUpsell:function(t,r,o){var i;e({type:"REFRESH_COOLDOWN"});var a=Z(t,r);if(!a||n>(new Date).valueOf()||"RJ_SEAT"!==o)return null;var u=a.price-((null==(i=r.find(function(e){return e.seatClassKey===t}))?void 0:i.price)||0);return wt=a.seatClassKey,Ft=u,{priceDiff:u,upsellClass:a}}}},exports.useUser=function(){var e=t.useContextSelector(De,function(e){return e.state.user}),n=e.user;return{isCreditPrice:!(null==n||!n.creditPrice),isLoggedIn:!!n,loginNumbers:e.loginNrs,user:e}},exports.useUserActions=gt,exports.useUserTickets=function(o,i,a){void 0===i&&(i=!0);var u=t.useContextSelector(De,function(e){return e.state.user.token}),s=t.useContextSelector(De,function(e){return e.interceptorsMounted}),c=je(x.userTickets),l=t.useContextSelector(_e,function(e){return e.state[x.userTickets].error}),d=n.useImmer(void 0),f=d[0],p=d[1],m=e.useState(!1),v=m[0],h=m[1],g=e.useState(!1),T=g[0],E=g[1],y=e.useRef(Et),C=e.useRef(_({},Et));f&&(C.current.RJ_SEAT=f.RJ_SEAT.length,C.current.RJ_SRO=f.RJ_SRO.length,C.current.RJ_TIME=f.RJ_TIME.length);var P=e.useMemo(function(){return _({},yt[o],a,{ticketStates:[o]})},[o]),R=f?{RJ_SEAT:f.RJ_SEAT.length<y.current.RJ_SEAT,RJ_SRO:f.RJ_SRO.length<y.current.RJ_SRO,RJ_TIME:f.RJ_TIME.length<y.current.RJ_TIME}:{},A=e.useMemo(function(){return f?f.RJ_SEAT.reduce(Pt,0)+f.RJ_SRO.reduce(Pt,0)+f.RJ_TIME.reduce(Pt,0):0},[f]),k=y.current.RJ_SEAT+y.current.RJ_SRO+y.current.RJ_TIME,I=v||!f?0:f.RJ_SEAT.length+f.RJ_SRO.length+f.RJ_TIME.length,b=e.useCallback(function(e,t){try{return Promise.resolve(St(function(){var n=function(){if(U.defaults.headers.Authorization)return c(void 0,!1),h(!0),Promise.resolve(Promise.all([U.get(Ct.RJ_SEAT,{headers:{Accept:"application/1.2.0+json"},params:t&&C.current.RJ_SEAT?_({},P,{limit:C.current.RJ_SEAT}):P,signal:e}),U.get(Ct.RJ_SRO,{params:t&&C.current.RJ_SRO?_({},P,{limit:C.current.RJ_SRO}):P,signal:e}),U.get(Ct.RJ_TIME,{params:t&&C.current.RJ_TIME?_({},P,{limit:C.current.RJ_TIME}):P,signal:e})])).then(function(e){var t=e[0],n=t.data,r=e[1],i=r.data,a=r.headers,u=e[2],s=u.data,c=u.headers;y.current={RJ_SEAT:parseInt(t.headers["x-pagination-total"]),RJ_SRO:parseInt(a["x-pagination-total"]),RJ_TIME:parseInt(c["x-pagination-total"])},p(function(e,t){var n=t.RJ_SEAT,r=t.RJ_SRO,o=t.RJ_TIME,i=function(t){return _({},t,{state:e})};return"UNPAID"!==e?{RJ_SEAT:n.map(i),RJ_SRO:r.map(i),RJ_TIME:o.map(i)}:{RJ_SEAT:n.map(i).filter(Rt),RJ_SRO:r.map(i).filter(Rt),RJ_TIME:o.map(i).filter(Rt)}}(o,{RJ_SEAT:n,RJ_SRO:i,RJ_TIME:s.tickets})),h(!1)});y.current=Et,p(Tt)}();return!n||!n.then||n.then(function(){return!0})},function(e){var t;return h(!1),S.default.isCancel(e)||(y.current=Et,p(void 0),c(r.isAxiosError(e)?(null==(t=e.response)?void 0:t.data.message)||Y(e):j,!1)),!1}))}catch(e){return Promise.reject(e)}},[o]),O=e.useCallback(function(e,t){try{return Promise.resolve(St(function(){if(U.defaults.headers.Authorization&&null!=f&&f[e].length)return E(!0),Promise.resolve(U.get(Ct[e],{params:_({},P,{offset:f[e].length}),headers:"RJ_SEAT"===e?{Accept:"application/1.2.0+json"}:void 0,signal:t})).then(function(t){var n=t.data,r=function(e,t,n){var r=function(t){return _({},t,{state:e})};return"UNPAID"!==e?n.map(r):n.filter(Rt).map(r)}(o,0,"RJ_TIME"===e?n.tickets:n);r.length&&(p(function(t){var n;null==t||(n=t[e]).push.apply(n,r)}),E(!1))});y.current=Et,p(void 0)},function(e){var t;p(void 0),c(r.isAxiosError(e)?(null==(t=e.response)?void 0:t.data.message)||Y(e):j,!1)}))}catch(e){return Promise.reject(e)}},[f,o]);return e.useEffect(function(){i&&U.defaults.headers.Authorization&&s?(y.current=Et,p(void 0),b()):U.defaults.headers.Authorization||(y.current=Et,p(void 0))},[o,u,s]),{error:l,fetchMore:O,fetchTickets:b,fetchedCount:I,loading:v,loadingMore:T,shouldFetchMore:R,tickets:f,totalCount:k,totalPrice:A}},exports.useVehicleStandards=function(){var n=je(x.vehicleStandards),r=t.useContextSelector(_e,function(e){return e.state[x.vehicleStandards]}),o=t.useContextSelector(Je,function(e){return e.vehicleStandardsResponse}),i=o.error,a=o.loading,u=t.useContextSelector(Je,function(e){return e.vehicleStandards}),s=null==u?void 0:u.reduce(function(e,t){return e[t.key]=t,e},{});return e.useEffect(function(){var e;n(null==i||null==(e=i.response)||null==(e=e.data)?void 0:e.message,!!a)},[n,i,a]),_({data:s},r)},exports.utils=ae;
//# sourceMappingURL=index.js.map
