{"code":"import { api } from '../../hooks/consts';\r\nexport const userInitialState = {\r\n    loginNrs: [],\r\n    user: null,\r\n    token: null,\r\n    currency: 'CZK',\r\n    language: 'cs',\r\n    paymentMethodCode: null,\r\n};\r\nexport const generateUserInitialState = (currency, language = 'cs') => ({\r\n    loginNrs: [],\r\n    user: null,\r\n    token: null,\r\n    currency,\r\n    language,\r\n    paymentMethodCode: null,\r\n});\r\nconst userReducer = (draft, action) => {\r\n    switch (action.type) {\r\n        case 'CLEAR_USER':\r\n            draft.user = null;\r\n            draft.token = null;\r\n            break;\r\n        case 'SET_LANG':\r\n            if (action.payload.language) {\r\n                draft.language = action.payload.language;\r\n            }\r\n            break;\r\n        case 'SET_TOKEN':\r\n            draft.token = action.payload.token;\r\n            break;\r\n        case 'SET_USER':\r\n            draft.user = action.payload.user;\r\n            break;\r\n        case 'SET_CURRENCY':\r\n            api.defaults.headers.common['X-Currency'] = action.payload.currency;\r\n            draft.currency = action.payload.currency;\r\n            break;\r\n        case 'SET_PAYMENT_CODE':\r\n            draft.paymentMethodCode = action.payload.paymentMethodCode;\r\n            break;\r\n        case 'SET_LOGIN_NR':\r\n            draft.loginNrs = Array.from(new Set([action.payload.loginNr, ...(draft.loginNrs || [])])).slice(0, 6);\r\n            break;\r\n    }\r\n};\r\nexport default userReducer;\r\n//# sourceMappingURL=reducer.js.map","references":["/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/immer/dist/immer.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/consts.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/types.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/store/user/types.ts"],"map":"{\"version\":3,\"file\":\"reducer.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/store/user/reducer.ts\"],\"names\":[],\"mappings\":\"AACA,OAAO,EAAE,GAAG,EAAE,MAAM,oBAAoB,CAAC;AAIzC,MAAM,CAAC,MAAM,gBAAgB,GAAqB;IAChD,QAAQ,EAAE,EAAE;IACZ,IAAI,EAAE,IAAI;IACV,KAAK,EAAE,IAAI;IACX,QAAQ,EAAE,KAAK;IACf,QAAQ,EAAE,IAAI;IACd,iBAAiB,EAAE,IAAI;CACxB,CAAC;AAEF,MAAM,CAAC,MAAM,wBAAwB,GAAG,CACtC,QAAkB,EAClB,WAAqB,IAAI,EACP,EAAE,CAAC,CAAC;IACtB,QAAQ,EAAE,EAAE;IACZ,IAAI,EAAE,IAAI;IACV,KAAK,EAAE,IAAI;IACX,QAAQ;IACR,QAAQ;IACR,iBAAiB,EAAE,IAAI;CACxB,CAAC,CAAC;AAEH,MAAM,WAAW,GAAG,CAAC,KAA8B,EAAE,MAAmB,EAAE,EAAE;IAC1E,QAAQ,MAAM,CAAC,IAAI,EAAE;QACnB,KAAK,YAAY;YACf,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;YAClB,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;YACnB,MAAM;QACR,KAAK,UAAU;YACb,IAAI,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE;gBAC3B,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;aAC1C;YACD,MAAM;QACR,KAAK,WAAW;YACd,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC;YACnC,MAAM;QACR,KAAK,UAAU;YACb,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;YACjC,MAAM;QACR,KAAK,cAAc;YACjB,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;YACpE,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;YACzC,MAAM;QACR,KAAK,kBAAkB;YACrB,KAAK,CAAC,iBAAiB,GAAG,MAAM,CAAC,OAAO,CAAC,iBAAiB,CAAC;YAC3D,MAAM;QACR,KAAK,cAAc;YACjB,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,IAAI,CACzB,IAAI,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,KAAK,CAAC,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC,CAC7D,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACd,MAAM;KACT;AACH,CAAC,CAAC;AAEF,eAAe,WAAW,CAAC\"}","dts":{"name":"/home/karelpelcak/Documents/repo/rj-shop-bl/dist/store/user/reducer.d.ts","writeByteOrderMark":false,"text":"import type { Draft } from 'immer';\r\nimport { Currency, Language } from '../../hooks/types';\r\nimport { UserActions, UserReducerProps } from './types';\r\nexport declare const userInitialState: UserReducerProps;\r\nexport declare const generateUserInitialState: (currency: Currency, language?: Language) => UserReducerProps;\r\ndeclare const userReducer: (draft: Draft<UserReducerProps>, action: UserActions) => void;\r\nexport default userReducer;\r\n"}}
