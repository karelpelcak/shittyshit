{"code":"import React, { useEffect, useMemo } from 'react';\r\nimport equal from 'fast-deep-equal';\r\nimport { createContext } from 'use-context-selector';\r\nimport { useImmerReducer } from 'use-immer';\r\nimport { ResponseStateCategory, } from './types';\r\nconst responseStateInitialState = {\r\n    [ResponseStateCategory.addons]: { loading: false },\r\n    [ResponseStateCategory.connection]: { loading: false },\r\n    [ResponseStateCategory.connectionRoute]: { loading: false },\r\n    [ResponseStateCategory.createTickets]: { loading: false },\r\n    [ResponseStateCategory.credit]: { loading: false },\r\n    [ResponseStateCategory.locations]: { loading: true },\r\n    [ResponseStateCategory.passengersData]: { loading: false },\r\n    [ResponseStateCategory.payment]: { loading: false },\r\n    [ResponseStateCategory.seats]: { loading: false },\r\n    [ResponseStateCategory.ticket]: { loading: false },\r\n    [ResponseStateCategory.tariffs]: { loading: true },\r\n    [ResponseStateCategory.ticketAction]: { loading: false },\r\n    [ResponseStateCategory.userTickets]: { loading: false },\r\n    [ResponseStateCategory.useTicketsType]: { loading: false },\r\n    [ResponseStateCategory.user]: { loading: false },\r\n    [ResponseStateCategory.ticketReview]: { loading: false },\r\n    [ResponseStateCategory.vehicleStandards]: { loading: false },\r\n    [ResponseStateCategory.seatClasses]: { loading: false },\r\n};\r\nexport const ResponseStateContext = createContext({});\r\nconst responseStateReducer = (draft, action) => {\r\n    switch (action.type) {\r\n        case 'SET_RESPONSE_STATE': {\r\n            const { error, loading, type } = action.payload;\r\n            if (type !== undefined) {\r\n                const newState = { error, loading };\r\n                if (!equal(draft[type], newState)) {\r\n                    draft[type] = newState;\r\n                }\r\n            }\r\n            else {\r\n                Object.keys(draft).forEach((s) => {\r\n                    const newState = { error, loading };\r\n                    if (!equal(draft[+s], newState)) {\r\n                        draft[+s] = newState;\r\n                    }\r\n                });\r\n            }\r\n            break;\r\n        }\r\n    }\r\n};\r\nconst ResponseStateProvider = ({ children, persistConfig, persist }) => {\r\n    const [state, dispatch] = useImmerReducer(responseStateReducer, (persist && persistConfig?.getItem().responseState) || responseStateInitialState);\r\n    useEffect(() => {\r\n        if (!persist) {\r\n            return;\r\n        }\r\n        persistConfig?.setItem({ responseState: state });\r\n    }, [state]);\r\n    const value = useMemo(() => ({ dispatch, state }), [dispatch, state]);\r\n    return React.createElement(ResponseStateContext.Provider, { value: value }, children);\r\n};\r\nexport default ResponseStateProvider;\r\n//# sourceMappingURL=reducer.js.map","references":["/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/@types/react/index.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/fast-deep-equal/index.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/immer/dist/immer.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/use-context-selector/dist/src/index.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/use-immer/dist/index.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/index.tsx","/home/karelpelcak/Documents/repo/rj-shop-bl/src/store/responseState/types.ts"],"map":"{\"version\":3,\"file\":\"reducer.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/store/responseState/reducer.tsx\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/karelpelcak/Documents/repo/rj-shop-bl/dist/store/responseState/reducer.d.ts","writeByteOrderMark":false,"text":"import { Dispatch, FC, ReactNode } from 'react';\r\nimport { PersistConfig } from '../../hooks';\r\nimport { ResponseStateReducerProps, ResponseStateActions } from './types';\r\ninterface ResponseStateProviderType {\r\n    children?: ReactNode;\r\n    persistConfig?: PersistConfig;\r\n    persist?: boolean;\r\n}\r\ninterface ResponseStateType {\r\n    state: ResponseStateReducerProps;\r\n    dispatch: Dispatch<ResponseStateActions>;\r\n}\r\nexport declare const ResponseStateContext: import(\"use-context-selector\").Context<ResponseStateType>;\r\ndeclare const ResponseStateProvider: FC<ResponseStateProviderType>;\r\nexport default ResponseStateProvider;\r\n"}}
