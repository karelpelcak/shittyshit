{"code":"import { useEffect } from 'react';\r\nimport { useApi, useManualApi } from './useManualApi';\r\nconst headers = { 'X-Application-Origin': 'WEB' };\r\nconst useLineTimetables = ({ code, number, timeTableId }, fetchAdditionalInfo) => {\r\n    const [{ error, loading, data = [] }] = useApi({\r\n        url: `/consts/timetables/${code}/${number}`,\r\n        method: 'GET',\r\n        headers,\r\n    });\r\n    const [{ data: symbols = [] }, fetchSymbols] = useManualApi({\r\n        url: `/consts/timetables/${timeTableId}/symbols`,\r\n        method: 'GET',\r\n        headers,\r\n    });\r\n    const [{ data: timeCodes = [] }, fetchCodes] = useManualApi({\r\n        url: `/consts/timetables/${timeTableId}/time-codes`,\r\n        method: 'GET',\r\n        headers,\r\n    });\r\n    useEffect(() => {\r\n        if (!fetchAdditionalInfo) {\r\n            return;\r\n        }\r\n        const abortController = new AbortController();\r\n        const signal = abortController.signal;\r\n        fetchSymbols({ signal });\r\n        fetchCodes({ signal });\r\n        return () => {\r\n            abortController.abort();\r\n        };\r\n    }, [fetchAdditionalInfo]);\r\n    return { error, loading, data, symbols, timeCodes };\r\n};\r\nexport default useLineTimetables;\r\n//# sourceMappingURL=useLineTimetables.js.map","references":["/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/@types/react/index.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/types.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/useManualApi.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/useTimetables.ts"],"map":"{\"version\":3,\"file\":\"useLineTimetables.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/hooks/useLineTimetables.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAElC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAC;AA6BtD,MAAM,OAAO,GAAG,EAAE,sBAAsB,EAAE,KAAK,EAAE,CAAC;AAQlD,MAAM,iBAAiB,GAAG,CACxB,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAuB,EAClD,mBAA6B,EAC7B,EAAE;IACF,MAAM,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,EAAE,CAAC,GAAG,MAAM,CAAuB;QACnE,GAAG,EAAE,sBAAsB,IAAI,IAAI,MAAM,EAAE;QAC3C,MAAM,EAAE,KAAK;QACb,OAAO;KACR,CAAC,CAAC;IAEH,MAAM,CAAC,EAAE,IAAI,EAAE,OAAO,GAAG,EAAE,EAAE,EAAE,YAAY,CAAC,GAAG,YAAY,CAEzD;QACA,GAAG,EAAE,sBAAsB,WAAW,UAAU;QAChD,MAAM,EAAE,KAAK;QACb,OAAO;KACR,CAAC,CAAC;IAEH,MAAM,CAAC,EAAE,IAAI,EAAE,SAAS,GAAG,EAAE,EAAE,EAAE,UAAU,CAAC,GAAG,YAAY,CAAa;QACtE,GAAG,EAAE,sBAAsB,WAAW,aAAa;QACnD,MAAM,EAAE,KAAK;QACb,OAAO;KACR,CAAC,CAAC;IAEH,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,mBAAmB,EAAE;YACxB,OAAO;SACR;QACD,MAAM,eAAe,GAAG,IAAI,eAAe,EAAE,CAAC;QAC9C,MAAM,MAAM,GAAG,eAAe,CAAC,MAAM,CAAC;QACtC,YAAY,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;QACzB,UAAU,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;QACvB,OAAO,GAAG,EAAE;YACV,eAAe,CAAC,KAAK,EAAE,CAAC;QAC1B,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;IAE1B,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;AACtD,CAAC,CAAC;AAEF,eAAe,iBAAiB,CAAC\"}","dts":{"name":"/home/karelpelcak/Documents/repo/rj-shop-bl/dist/hooks/useLineTimetables.d.ts","writeByteOrderMark":false,"text":"import { DateString } from './types';\r\nimport { TimetablesResponse } from './useTimetables';\r\nexport type LineCode = 'WEB' | 'WEB1';\r\nexport interface Station {\r\n    stationId: number;\r\n    departure: string;\r\n    arrival: string;\r\n    platform: string;\r\n}\r\nexport interface TimetableSymbol {\r\n    mark: string;\r\n    description: string;\r\n}\r\nexport interface TimeCodeItem {\r\n    type: 'INCLUDING' | 'INCLUDING_ALSO' | 'EXCLUDING';\r\n    from: DateString;\r\n    to: DateString;\r\n}\r\nexport interface TimeCode {\r\n    mark: number;\r\n    description: string;\r\n    items: TimeCodeItem[];\r\n}\r\nexport interface UseTimetablesParams {\r\n    code: LineCode;\r\n    number: number;\r\n    timeTableId: number;\r\n}\r\ndeclare const useLineTimetables: ({ code, number, timeTableId }: UseTimetablesParams, fetchAdditionalInfo?: boolean) => {\r\n    error: import(\"axios\").AxiosError<any, any> | null;\r\n    loading: boolean;\r\n    data: TimetablesResponse[];\r\n    symbols: TimetableSymbol[];\r\n    timeCodes: TimeCode[];\r\n};\r\nexport default useLineTimetables;\r\n"}}
