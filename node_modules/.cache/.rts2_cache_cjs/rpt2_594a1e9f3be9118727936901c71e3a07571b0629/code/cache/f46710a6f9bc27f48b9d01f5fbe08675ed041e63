{"code":"import { useEffect } from 'react';\r\nimport { useContextSelector } from 'use-context-selector';\r\nimport { ResponseStateContext } from '../store/responseState/reducer';\r\nimport { ResponseStateCategory } from '../store/responseState/types';\r\nimport { StoreContext } from '../store/rootReducer';\r\nimport { SET_LOGIN_NR, SET_PAYMENT_CODE, SET_USER } from '../store/user/types';\r\nimport { getErrorMessage, unusablePaymentMethods } from './consts';\r\nimport useBookingActions from './useBooking';\r\nimport { useHeadersActions } from './useHeaders';\r\nimport { useManualApi } from './useManualApi';\r\nimport useSetResponseState from './useSetResponseState';\r\nexport const useUserActions = () => {\r\n    const setState = useSetResponseState(ResponseStateCategory.user);\r\n    const categoryState = useContextSelector(ResponseStateContext, (c) => c.state[ResponseStateCategory.user]);\r\n    const dispatch = useContextSelector(StoreContext, (c) => c.dispatch.userDispatch);\r\n    const user = useContextSelector(StoreContext, (c) => c.state.user.user);\r\n    const { setToken } = useHeadersActions();\r\n    const { clearBooking } = useBookingActions();\r\n    const [{ error: signupError, loading: signupLoading }, callRegistration] = useManualApi({\r\n        url: '/users/signup/registeredAccount',\r\n        method: 'POST',\r\n    });\r\n    const [{ error: loginError, loading: loginLoading }, callLogin] = useManualApi({\r\n        url: '/users/login/registeredAccount',\r\n        method: 'POST',\r\n    });\r\n    const [{ error: forgottenPasswordError, loading: forgottenPasswordLoading }, callForgottenPassword,] = useManualApi({\r\n        url: '/users/forgottenPassword',\r\n        method: 'POST',\r\n    });\r\n    const [{ error: loginTicketError, loading: loginTicketLoading }, callLoginTicket,] = useManualApi({\r\n        url: '/users/login/unregisteredAccount',\r\n        method: 'POST',\r\n    });\r\n    const [{ error: logoutError, loading: logoutLoading }, callLogout] = useManualApi({\r\n        url: '/users/logout',\r\n        method: 'POST',\r\n        data: {},\r\n    }, { manual: true });\r\n    const [{ error: changeInfoError, loading: changeInfoLoading }, callChangeInfo,] = useManualApi({\r\n        url: '/users/settings/changeUserInformation',\r\n        method: 'PUT',\r\n    });\r\n    const [{ error: changePassError, loading: changePassLoading }, callChangePassword,] = useManualApi({\r\n        url: '/users/settings/changePassword',\r\n        method: 'PUT',\r\n    });\r\n    const [{ error: resetPassError, loading: resetPassLoading }, callResetPassword,] = useManualApi({\r\n        url: '/users/resetPassword',\r\n        method: 'POST',\r\n    });\r\n    const [{ error: resetPassVerifyError, loading: resetPassVerifyLoading }, callResetPasswordVerify,] = useManualApi({\r\n        url: '/users/resetPassword/verify',\r\n        method: 'GET',\r\n    });\r\n    const [{ error: qrError, loading: qrLoading, data: qrData }, getAccountQr] = useManualApi({ url: '/tickets/account/qrcode', method: 'GET' });\r\n    const [{ error: percDiscountsError, loading: percDiscountsLoading, data: percDiscountsData, }, getPercDiscounts,] = useManualApi({\r\n        url: '/discounts/percentual',\r\n        method: 'GET',\r\n        headers: { Accept: 'application/1.1.0+json' },\r\n    });\r\n    const [{ error: registerOpenError, loading: registerOpenLoading }, callRegisterOpen,] = useManualApi({\r\n        url: '/users/signup/registeredAccount/simple',\r\n        method: 'POST',\r\n    });\r\n    const addLoginNumber = async (loginNr) => dispatch({ type: SET_LOGIN_NR, payload: { loginNr } });\r\n    const register = async (payload, signal) => {\r\n        try {\r\n            const { data, status } = await callRegistration({\r\n                data: payload,\r\n                signal,\r\n            });\r\n            if (status !== 200) {\r\n                return false;\r\n            }\r\n            await setToken(data.token);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    };\r\n    const login = async (payload, signal) => {\r\n        try {\r\n            const response = await callLogin({ data: payload, signal });\r\n            const userData = await setToken(response.data.token);\r\n            return { response, user: userData };\r\n        }\r\n        catch (e) {\r\n        }\r\n    };\r\n    const loginTicket = async (accountCode, signal) => {\r\n        try {\r\n            const response = await callLoginTicket({ data: { accountCode }, signal });\r\n            const userData = await setToken(response.data.token);\r\n            return { response, user: userData };\r\n        }\r\n        catch (e) {\r\n        }\r\n    };\r\n    const logout = async (signal) => {\r\n        try {\r\n            await callLogout({ signal });\r\n            await setToken(null);\r\n            clearBooking();\r\n            return true;\r\n        }\r\n        catch {\r\n            return false;\r\n        }\r\n    };\r\n    const registerOpenTicket = async (data, signal) => {\r\n        try {\r\n            const response = await callRegisterOpen({ data, signal });\r\n            if (response.data.token) {\r\n                await setToken(response.data.token);\r\n            }\r\n            return true;\r\n        }\r\n        catch {\r\n            return false;\r\n        }\r\n    };\r\n    const changeUserInfo = async (changeInfoPayload, signal) => {\r\n        try {\r\n            if (user) {\r\n                const { companyInformation, company, defaultTariffKey, notifications, phoneNumber, } = user;\r\n                await callChangeInfo({\r\n                    data: {\r\n                        companyInformation,\r\n                        company,\r\n                        defaultTariffKey,\r\n                        notifications,\r\n                        phoneNumber,\r\n                        ...changeInfoPayload,\r\n                    },\r\n                    signal,\r\n                });\r\n                dispatch({\r\n                    type: SET_USER,\r\n                    payload: {\r\n                        user: user && {\r\n                            ...user,\r\n                            ...changeInfoPayload,\r\n                            company: changeInfoPayload.company\r\n                                ? changeInfoPayload.company\r\n                                : company,\r\n                        },\r\n                    },\r\n                });\r\n                return true;\r\n            }\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    };\r\n    const changeUserPassword = async (changeInfoPayload, signal) => {\r\n        try {\r\n            await callChangePassword({ data: changeInfoPayload, signal });\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    };\r\n    const requestPasswordReset = async (data, signal) => {\r\n        try {\r\n            await callForgottenPassword({ data, signal });\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    };\r\n    const resetPassword = async (newPassword, token, signal) => {\r\n        try {\r\n            const headers = { Authorization: `Bearer ${token}` };\r\n            const { status: crpvStatus } = await callResetPasswordVerify({\r\n                headers,\r\n                signal,\r\n            });\r\n            const { status: crpStatus } = await callResetPassword({\r\n                data: { newPassword },\r\n                headers,\r\n                signal,\r\n            });\r\n            return crpvStatus === 200 && crpStatus === 200;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    };\r\n    const setPaymentCode = (paymentMethodCode) => (!paymentMethodCode ||\r\n        !unusablePaymentMethods.includes(paymentMethodCode)) &&\r\n        dispatch({ type: SET_PAYMENT_CODE, payload: { paymentMethodCode } });\r\n    const loading = changeInfoLoading ||\r\n        changePassLoading ||\r\n        forgottenPasswordLoading ||\r\n        loginLoading ||\r\n        loginTicketLoading ||\r\n        logoutLoading ||\r\n        percDiscountsLoading ||\r\n        qrLoading ||\r\n        registerOpenLoading ||\r\n        resetPassLoading ||\r\n        resetPassVerifyLoading ||\r\n        signupLoading;\r\n    const error = changeInfoError ||\r\n        changePassError ||\r\n        forgottenPasswordError ||\r\n        loginError ||\r\n        loginTicketError ||\r\n        logoutError ||\r\n        percDiscountsError ||\r\n        qrError ||\r\n        registerOpenError ||\r\n        resetPassError ||\r\n        resetPassVerifyError ||\r\n        signupError;\r\n    useEffect(() => {\r\n        setState(error?.response?.data?.message || getErrorMessage(error), loading, error?.response?.data?.errorFields);\r\n    }, [error, loading]);\r\n    return {\r\n        addLoginNumber,\r\n        changeUserInfo,\r\n        changeUserPassword,\r\n        login,\r\n        loginTicket,\r\n        logout,\r\n        registerOpenTicket,\r\n        requestPasswordReset,\r\n        register,\r\n        resetPassword,\r\n        setPaymentCode,\r\n        accountQr: { getAccountQr, qrData },\r\n        percDiscounts: { getPercDiscounts, percDiscountsData },\r\n        ...categoryState,\r\n    };\r\n};\r\nconst useUser = () => {\r\n    const userObj = useContextSelector(StoreContext, (c) => c.state.user);\r\n    const { user } = userObj;\r\n    const isLoggedIn = !!user;\r\n    const isCreditPrice = !!user?.creditPrice;\r\n    const loginNumbers = userObj.loginNrs;\r\n    return {\r\n        isCreditPrice,\r\n        isLoggedIn,\r\n        loginNumbers,\r\n        user: userObj,\r\n    };\r\n};\r\nexport default useUser;\r\n//# sourceMappingURL=useUser.js.map","references":["/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/@types/react/index.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/axios/index.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/use-context-selector/dist/src/index.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/store/responseState/reducer.tsx","/home/karelpelcak/Documents/repo/rj-shop-bl/src/store/responseState/types.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/store/rootReducer.tsx","/home/karelpelcak/Documents/repo/rj-shop-bl/src/store/user/types.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/consts.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/types.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/useBooking.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/useHeaders.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/useManualApi.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/useSetResponseState.ts"],"map":"{\"version\":3,\"file\":\"useUser.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/hooks/useUser.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/karelpelcak/Documents/repo/rj-shop-bl/dist/hooks/useUser.d.ts","writeByteOrderMark":false,"text":"import type { GenericAbortSignal } from 'axios';\r\nimport { Currency, DateString, PaymentMethod, StationCountry, Tariff } from './types';\r\nexport interface UserRegisterCommons {\r\n    firstName: string;\r\n    surname: string;\r\n    phoneNumber: string;\r\n    email: string;\r\n    company?: Company;\r\n    currency: Currency;\r\n}\r\nexport interface User extends UserRegisterCommons {\r\n    id: number;\r\n    accountCode: string;\r\n    restrictPhoneNumbers: boolean;\r\n    credit: number;\r\n    creditPrice: boolean;\r\n    defaultTariffKey: Tariff;\r\n    notifications: Notifications;\r\n    companyInformation: boolean;\r\n    conditionsAcceptance: boolean;\r\n    employeeNumber: null | string;\r\n}\r\nexport interface SimpleSignupPayload {\r\n    firstName: string;\r\n    surname: string;\r\n    email: string;\r\n    phoneNumber: string;\r\n    password: string;\r\n    notifications: Notifications;\r\n    agreeWithTerms: boolean;\r\n}\r\nexport interface RegisterPayload extends UserRegisterCommons {\r\n    companyInformation: boolean;\r\n    defaultTariff: Tariff;\r\n    password: string;\r\n    notifications: Notifications;\r\n    agreeWithTerms: boolean;\r\n}\r\nexport interface LoginPayload {\r\n    accountCode: string;\r\n    password: string;\r\n}\r\nexport interface ChangeInfoPayload {\r\n    phoneNumber?: string;\r\n    restrictPhoneNumbers?: boolean;\r\n    companyInformation?: boolean;\r\n    company?: Company;\r\n    defaultTariffKey?: Tariff;\r\n    notifications?: Notifications;\r\n}\r\nexport interface ChangePasswordPayload {\r\n    newPassword: string;\r\n    oldPassword: string;\r\n}\r\nexport interface SignupData {\r\n    token: string;\r\n}\r\nexport interface ForgottenPasswordData {\r\n    accountCode: string;\r\n    email: string;\r\n    correlationId: string;\r\n}\r\nexport interface Company {\r\n    companyName: string;\r\n    address: string;\r\n    registrationNumber: string;\r\n    vatNumber: string;\r\n}\r\nexport interface Notifications {\r\n    newsletter: boolean;\r\n    reservationChange: boolean;\r\n    routeRatingSurvey: boolean;\r\n}\r\nexport interface PercentualDiscount {\r\n    dateFrom: DateString | null;\r\n    dateTo: DateString | null;\r\n    fromCityId: number | null;\r\n    fromCountry: null | StationCountry | 'EU';\r\n    fromStationId: number | null;\r\n    id: number;\r\n    passengers: number;\r\n    percentage: number;\r\n    state: 'VALID' | 'USED';\r\n    ticketId: number | null;\r\n    toCityId: number | null;\r\n    toCountry: null | StationCountry | 'EU';\r\n    toStationId: number | null;\r\n}\r\nexport declare const useUserActions: () => {\r\n    error?: {\r\n        message?: string | undefined;\r\n        errorFields?: import(\"../store/responseState/types\").ErrorFields[] | undefined;\r\n    } | undefined;\r\n    loading: boolean;\r\n    addLoginNumber: (loginNr: string) => Promise<void>;\r\n    changeUserInfo: (changeInfoPayload: ChangeInfoPayload, signal?: GenericAbortSignal) => Promise<boolean | undefined>;\r\n    changeUserPassword: (changeInfoPayload: ChangePasswordPayload, signal?: GenericAbortSignal) => Promise<boolean>;\r\n    login: (payload: LoginPayload, signal?: GenericAbortSignal) => Promise<{\r\n        response: import(\"axios\").AxiosResponse<SignupData, any>;\r\n        user: import(\"../store/user/types\").PersistedUser | undefined;\r\n    } | undefined>;\r\n    loginTicket: (accountCode: string, signal?: GenericAbortSignal) => Promise<{\r\n        response: import(\"axios\").AxiosResponse<SignupData, any>;\r\n        user: import(\"../store/user/types\").PersistedUser | undefined;\r\n    } | undefined>;\r\n    logout: (signal?: GenericAbortSignal) => Promise<boolean>;\r\n    registerOpenTicket: (data: SimpleSignupPayload, signal?: GenericAbortSignal) => Promise<boolean>;\r\n    requestPasswordReset: (data: ForgottenPasswordData, signal?: GenericAbortSignal) => Promise<boolean>;\r\n    register: (payload: RegisterPayload, signal?: GenericAbortSignal) => Promise<boolean>;\r\n    resetPassword: (newPassword: string, token: string, signal?: GenericAbortSignal) => Promise<boolean>;\r\n    setPaymentCode: (paymentMethodCode: PaymentMethod | null) => false | void;\r\n    accountQr: {\r\n        getAccountQr: import(\"axios-hooks\").RefetchFunction<any, any>;\r\n        qrData: any;\r\n    };\r\n    percDiscounts: {\r\n        getPercDiscounts: import(\"axios-hooks\").RefetchFunction<any, PercentualDiscount[]>;\r\n        percDiscountsData: PercentualDiscount[] | undefined;\r\n    };\r\n};\r\ndeclare const useUser: () => {\r\n    isCreditPrice: boolean;\r\n    isLoggedIn: boolean;\r\n    loginNumbers: string[];\r\n    user: import(\"../store/user/types\").UserReducerProps;\r\n};\r\nexport default useUser;\r\n"}}
