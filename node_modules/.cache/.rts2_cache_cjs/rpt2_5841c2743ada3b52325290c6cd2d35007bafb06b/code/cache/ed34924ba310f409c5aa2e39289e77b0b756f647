{"code":"import { useMemo } from 'react';\r\nimport { useManualApi } from './useManualApi';\r\nimport { isRegional } from './utils';\r\nconst useFlexiTickets = () => {\r\n    const [{ data, loading }, fetchClasses] = useManualApi({});\r\n    const fetchRoute = async (params, departureDate, signal) => {\r\n        try {\r\n            const { routeId, fromStationId, toStationId, tariffs } = params;\r\n            if (!isRegional(fromStationId, toStationId) ||\r\n                tariffs.length !== 1) {\r\n                return true;\r\n            }\r\n            await fetchClasses({\r\n                signal,\r\n                url: `/pricelists/timeticket/${routeId}/${fromStationId}/${toStationId}/FLEX/${departureDate}/${tariffs[0]}`,\r\n            });\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    };\r\n    return useMemo(() => ({\r\n        data,\r\n        fetchRoute,\r\n        loading,\r\n    }), [loading, data]);\r\n};\r\nexport default useFlexiTickets;\r\n//# sourceMappingURL=useFlexiTickets.js.map","references":["/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/@types/react/index.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/axios/index.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/useConnectionRoute.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/useManualApi.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/utils.ts"],"map":"{\"version\":3,\"file\":\"useFlexiTickets.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/hooks/useFlexiTickets.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,OAAO,CAAC;AAGhC,OAAO,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAC;AAC9C,OAAO,EAAE,UAAU,EAAE,MAAM,SAAS,CAAC;AAErC,MAAM,eAAe,GAAG,GAAG,EAAE;IAC3B,MAAM,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,EAAE,YAAY,CAAC,GAAG,YAAY,CAAkB,EAAE,CAAC,CAAC;IAE5E,MAAM,UAAU,GACd,KAAK,EAAE,MAAoB,EAAE,aAAqB,EAAE,MAA2B,EAAE,EAAE;QACjF,IAAI;YACF,MAAM,EAAE,OAAO,EAAE,aAAa,EAAE,WAAW,EAAE,OAAO,EAAE,GAAG,MAAM,CAAC;YAEhE,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,WAAW,CAAC;gBACzC,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;gBACtB,OAAO,IAAI,CAAC;aACb;YACD,MAAM,YAAY,CAAC;gBACjB,MAAM;gBACN,GAAG,EAAE,0BAA0B,OAAO,IAAI,aAAa,IAAI,WAAW,SAAS,aAAa,IAAI,OAAO,CAAC,CAAC,CAAC,EAAE;aAC7G,CAAC,CAAC;YACH,OAAO,IAAI,CAAC;SACb;QAAC,OAAO,CAAC,EAAE;YACV,OAAO,KAAK,CAAC;SACd;IACH,CAAC,CAAC;IAEJ,OAAO,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC;QACpB,IAAI;QACJ,UAAU;QACV,OAAO;KACR,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;AACvB,CAAC,CAAC;AAEF,eAAe,eAAe,CAAC\"}","dts":{"name":"/home/karelpelcak/Documents/repo/rj-shop-bl/dist/hooks/useFlexiTickets.d.ts","writeByteOrderMark":false,"text":"import type { GenericAbortSignal } from 'axios';\r\nimport { FlexiResponse, RoutePayload } from './useConnectionRoute';\r\ndeclare const useFlexiTickets: () => {\r\n    data: FlexiResponse[] | undefined;\r\n    fetchRoute: (params: RoutePayload, departureDate: string, signal?: GenericAbortSignal) => Promise<boolean>;\r\n    loading: boolean;\r\n};\r\nexport default useFlexiTickets;\r\n"}}
