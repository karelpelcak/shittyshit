{"code":"import { useEffect } from 'react';\r\nimport { useContextSelector } from 'use-context-selector';\r\nimport { StoreContext } from '../store/rootReducer';\r\nimport { api } from './consts';\r\nimport { useApi } from './useManualApi';\r\nconst useDepartures = (stationId, limit = 10) => {\r\n    const language = useContextSelector(StoreContext, (c) => c.state.user.language);\r\n    const [{ loading, error, data }, fetchDepartures] = useApi({\r\n        headers: { Accept: 'application/1.1.0+json' },\r\n        method: 'GET',\r\n        url: `/routes/${stationId}/departures?limit=${limit}`,\r\n    });\r\n    useEffect(() => {\r\n        api.defaults.headers.common['X-Lang'] =\r\n            language === 'de-AT' ? 'at' : language;\r\n        const abortController = new AbortController();\r\n        const signal = abortController.signal;\r\n        fetchDepartures({ signal });\r\n        return () => {\r\n            abortController.abort();\r\n        };\r\n    }, [language]);\r\n    return { data, error, fetchDepartures, loading };\r\n};\r\nexport default useDepartures;\r\n//# sourceMappingURL=useDepartures.js.map","references":["/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/@types/react/index.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/use-context-selector/dist/src/index.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/store/rootReducer.tsx","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/consts.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/types.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/useManualApi.ts"],"map":"{\"version\":3,\"file\":\"useDepartures.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/hooks/useDepartures.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAClC,OAAO,EAAE,kBAAkB,EAAE,MAAM,sBAAsB,CAAC;AAC1D,OAAO,EAAE,YAAY,EAAE,MAAM,sBAAsB,CAAC;AACpD,OAAO,EAAE,GAAG,EAAE,MAAM,UAAU,CAAC;AAE/B,OAAO,EAAE,MAAM,EAAE,MAAM,gBAAgB,CAAC;AAsBxC,MAAM,aAAa,GAAG,CAAC,SAAiB,EAAE,KAAK,GAAG,EAAE,EAAE,EAAE;IACtD,MAAM,QAAQ,GAAG,kBAAkB,CACjC,YAAY,EACZ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAC7B,CAAC;IACF,MAAM,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,eAAe,CAAC,GAAG,MAAM,CAAc;QACtE,OAAO,EAAE,EAAE,MAAM,EAAE,wBAAwB,EAAE;QAC7C,MAAM,EAAE,KAAK;QACb,GAAG,EAAE,WAAW,SAAS,qBAAqB,KAAK,EAAE;KACtD,CAAC,CAAC;IAEH,SAAS,CAAC,GAAG,EAAE;QACb,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnC,QAAQ,KAAK,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC;QACzC,MAAM,eAAe,GAAG,IAAI,eAAe,EAAE,CAAC;QAC9C,MAAM,MAAM,GAAG,eAAe,CAAC,MAAM,CAAC;QACtC,eAAe,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;QAC5B,OAAO,GAAG,EAAE;YACV,eAAe,CAAC,KAAK,EAAE,CAAC;QAC1B,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;IAEf,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,eAAe,EAAE,OAAO,EAAE,CAAC;AACnD,CAAC,CAAC;AAEF,eAAe,aAAa,CAAC\"}","dts":{"name":"/home/karelpelcak/Documents/repo/rj-shop-bl/dist/hooks/useDepartures.d.ts","writeByteOrderMark":false,"text":"import { DateString, VehicleKey } from './types';\r\nexport interface Departure {\r\n    busConnectionId: number;\r\n    label: string;\r\n    number: null | string;\r\n    delay: number;\r\n    vehicleCategory: 'COACH' | 'RAIL_CAR';\r\n    freeSeatsCount: number;\r\n    connectionStations: ConnectionStation[];\r\n    type: 'RJ' | 'R' | 'WB';\r\n    vehicleStandard: VehicleKey;\r\n}\r\nexport interface ConnectionStation {\r\n    stationId: number;\r\n    arrival: DateString | null;\r\n    departure: DateString | null;\r\n    platform: null | string;\r\n    departingStation: boolean;\r\n}\r\ndeclare const useDepartures: (stationId: number, limit?: number) => {\r\n    data: Departure[] | undefined;\r\n    error: import(\"axios\").AxiosError<any, any> | null;\r\n    fetchDepartures: import(\"axios-hooks\").RefetchFunction<any, Departure[]>;\r\n    loading: boolean;\r\n};\r\nexport default useDepartures;\r\n"}}
