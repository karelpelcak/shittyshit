{"code":"import { useEffect, useState } from 'react';\r\nimport { useContextSelector } from 'use-context-selector';\r\nimport { ResponseStateContext } from '../store/responseState/reducer';\r\nimport { ResponseStateCategory } from '../store/responseState/types';\r\nimport { api } from './consts';\r\nimport { Tariff } from './types';\r\nimport { useHeadersActions } from './useHeaders';\r\nimport { useApi, useManualApi } from './useManualApi';\r\nimport useSetResponseState from './useSetResponseState';\r\nimport { createTxToken } from './utils';\r\nconst useTicketActions = ({ id, type }, ticketCode) => {\r\n    const { authorize } = useHeadersActions();\r\n    const setState = useSetResponseState(ResponseStateCategory.ticketAction);\r\n    const categoryState = useContextSelector(ResponseStateContext, (c) => c.state[ResponseStateCategory.ticketAction]);\r\n    const [customLoading, setCustomLoading] = useState(false);\r\n    const [customError, setCustomError] = useState();\r\n    const [{ error: sendMailError, loading: sendMailLoading }, fetchSendMail] = useManualApi({ url: `/tickets/${type}/${id}/sendByEmail`, method: 'POST' });\r\n    const [{ error: getPdfError, loading: getPdfLoading }, getPdf] = useManualApi({ url: `/tickets/${type}/${id}/pdf`, method: 'GET', responseType: 'blob' });\r\n    const [{ error: wheelChairPlatformError, loading: wheelChairPlatformLoading }, submitWheelChairPlatformOrder,] = useManualApi({\r\n        method: 'PUT',\r\n        url: `/tickets/${id}/submitWheelChairPlatformOrder`,\r\n    });\r\n    const [{ error: getQrError, loading: getQrLoading }, getQr] = useManualApi({\r\n        url: `/tickets${type === 'RJ_TIME' ? '/timeticket' : ''}/${id}/qrcode`,\r\n        method: 'GET',\r\n    });\r\n    const [{ data: questionnaireUrls }] = (ticketCode ? useApi : useManualApi)({\r\n        url: `/tickets/${ticketCode}/questionnaireUrls`,\r\n        method: 'GET',\r\n    });\r\n    const [{ error: cancelSeatError, loading: cancelSeatLoading }, fetchCancelSeatTicket,] = useManualApi({\r\n        url: `/tickets/${id}/cancel`,\r\n        method: 'PUT',\r\n    });\r\n    const [{ error: cancelTimeError, loading: cancelTimeLoading }, fetchCancelTimeTicket,] = useManualApi({\r\n        url: `/tickets/timeticket/${id}`,\r\n        method: 'DELETE',\r\n    });\r\n    const [{ error: cancelSroError, loading: cancelSroLoading }, fetchCancelSroTicket,] = useManualApi({\r\n        url: `/tickets/RJ_SRO/${id}`,\r\n        method: 'DELETE',\r\n    });\r\n    const [{ error: refetchSeatTicketError, loading: refetchSeatTicketLoading }, refetchSeatTicket,] = useManualApi({\r\n        url: `/tickets/${id}`,\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/1.2.0+json',\r\n        },\r\n    });\r\n    const qrText = [2, type, id].join(';');\r\n    const sendByEmail = async (email, signal) => {\r\n        try {\r\n            await fetchSendMail({ data: { email }, signal });\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    };\r\n    /**\r\n     * @param ticketId\r\n     * @param passengersIds\r\n     * @param seatsForCancel\r\n     * [\r\n     * {sect[0].passenger[0].seats, sect[0].passenger[1].seats },\r\n     * {sect[1].passenger[0].seats, sect[1].passenger[1].seats }\r\n     * ]\r\n     * @param refundToOriginalSource\r\n     * For the first passenger we assign from seatsForCancel from the first routesection\r\n     * the first selectedSeat,\r\n     * from the second routesection we assign again the first selectedSeat.\r\n     * For the second passenger we assign from the first routesection second selectedSeat,\r\n     * from the second routesection we assign again the second selectedSeat and so on.\r\n     */\r\n    const partialCancel = async (ticketId, passengers, seatsForCancel, refundToOriginalSource = false, signal) => {\r\n        try {\r\n            setCustomLoading(true);\r\n            let success = true;\r\n            const sendRequest = async (passenger, index) => {\r\n                try {\r\n                    const data = seatsForCancel.map((seat) => seat[index]);\r\n                    const response = await api.delete(`/tickets/${ticketId}/passengers/${passenger.id}`, {\r\n                        data: { refundToOriginalSource, seats: data },\r\n                        signal,\r\n                    });\r\n                    if (response.status < 200 || response.status >= 300) {\r\n                        success = false;\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    success = false;\r\n                }\r\n            };\r\n            const disabledPassengers = passengers.filter((pass) => pass.tariff === Tariff.DisabledAttendance);\r\n            const otherPassengers = passengers.filter((pass) => pass.tariff !== Tariff.DisabledAttendance);\r\n            // Send requests for passengers with DisabledAttendance tariff first\r\n            await Promise.all(disabledPassengers.map((passenger, index) => sendRequest(passenger, index)));\r\n            // Then send requests for the rest of the passengers\r\n            await Promise.all(otherPassengers.map((passenger, index) => sendRequest(passenger, index + disabledPassengers.length)));\r\n            return { status: success };\r\n        }\r\n        catch (e) {\r\n            setCustomError(e);\r\n            return { status: false };\r\n        }\r\n        finally {\r\n            setCustomLoading(false);\r\n        }\r\n    };\r\n    /**\r\n     * @param controlHash Required for seat reservation\r\n     * @param refundToOriginalSource should refund to credit or bank account\r\n     */\r\n    const cancel = async (controlHash, refundToOriginalSource = false, signal) => {\r\n        try {\r\n            const data = { controlHash, refundToOriginalSource };\r\n            let statusCode = 500;\r\n            switch (type) {\r\n                case 'RJ_SEAT': {\r\n                    const { data: rjSeatData, status: refetchStatus } = await refetchSeatTicket({ signal });\r\n                    const rjSeatDataToSend = refetchStatus >= 200 && refetchStatus < 300\r\n                        ? {\r\n                            controlHash: rjSeatData.conditions.code,\r\n                            refundToOriginalSource,\r\n                        }\r\n                        : data;\r\n                    const { status } = await fetchCancelSeatTicket({\r\n                        data: rjSeatDataToSend,\r\n                        signal,\r\n                    });\r\n                    statusCode = status;\r\n                    break;\r\n                }\r\n                case 'RJ_TIME': {\r\n                    const { status } = await fetchCancelTimeTicket({ signal });\r\n                    statusCode = status;\r\n                    break;\r\n                }\r\n                case 'RJ_SRO': {\r\n                    const { status } = await fetchCancelSroTicket({\r\n                        data,\r\n                        headers: { 'X-TxToken': createTxToken() },\r\n                        signal,\r\n                    });\r\n                    statusCode = status;\r\n                    break;\r\n                }\r\n            }\r\n            await authorize(signal);\r\n            return { status: statusCode >= 200 && statusCode < 300 };\r\n        }\r\n        catch (e) {\r\n        }\r\n    };\r\n    const getAppleWalletFile = async (sectionId, signal) => {\r\n        setCustomLoading(true);\r\n        try {\r\n            const { data } = await api.get(`/apple-wallet/${ticketCode}/${sectionId}`, {\r\n                headers: { Accept: 'application/vnd.apple.pkpass' },\r\n                responseType: 'blob',\r\n                signal,\r\n            });\r\n            return data;\r\n        }\r\n        catch (e) {\r\n            setCustomError(e);\r\n        }\r\n        finally {\r\n            setCustomLoading(false);\r\n        }\r\n    };\r\n    const orderWheelChairPlatform = async (data, signal) => {\r\n        try {\r\n            submitWheelChairPlatformOrder({ data, signal });\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    };\r\n    const error = sendMailError ||\r\n        getPdfError ||\r\n        getQrError ||\r\n        wheelChairPlatformError ||\r\n        cancelSeatError ||\r\n        cancelTimeError ||\r\n        cancelSroError ||\r\n        customError ||\r\n        refetchSeatTicketError;\r\n    const loading = sendMailLoading ||\r\n        getPdfLoading ||\r\n        getQrLoading ||\r\n        wheelChairPlatformLoading ||\r\n        cancelSeatLoading ||\r\n        cancelTimeLoading ||\r\n        cancelSroLoading ||\r\n        customLoading ||\r\n        refetchSeatTicketLoading;\r\n    useEffect(() => {\r\n        setState(error?.response?.data?.message, loading);\r\n    }, [error, loading]);\r\n    return {\r\n        cancel,\r\n        getAppleWalletFile,\r\n        getPdf,\r\n        getQr,\r\n        orderWheelChairPlatform,\r\n        partialCancel,\r\n        qrText,\r\n        questionnaireUrls,\r\n        sendByEmail,\r\n        ...categoryState,\r\n    };\r\n};\r\nexport default useTicketActions;\r\n//# sourceMappingURL=useTicketActions.js.map","references":["/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/@types/react/index.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/axios/index.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/use-context-selector/dist/src/index.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/store/responseState/reducer.tsx","/home/karelpelcak/Documents/repo/rj-shop-bl/src/store/responseState/types.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/consts.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/types.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/useCreateTickets.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/useHeaders.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/useManualApi.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/usePayment.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/useSetResponseState.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/hooks/utils.ts"],"map":"{\"version\":3,\"file\":\"useTicketActions.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/hooks/useTicketActions.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/karelpelcak/Documents/repo/rj-shop-bl/dist/hooks/useTicketActions.d.ts","writeByteOrderMark":false,"text":"import type { GenericAbortSignal } from 'axios';\r\nimport { SelectedSeat } from './types';\r\nimport { Passenger } from './useCreateTickets';\r\nimport { TicketTypeId } from './usePayment';\r\ninterface OrderPlatformParams {\r\n    email: string;\r\n    phone: string;\r\n}\r\nexport type PassengersToStorno = Pick<Passenger, 'id' | 'tariff'>;\r\ndeclare const useTicketActions: ({ id, type }: TicketTypeId, ticketCode?: string) => {\r\n    error?: {\r\n        message?: string | undefined;\r\n        errorFields?: import(\"../store/responseState/types\").ErrorFields[] | undefined;\r\n    } | undefined;\r\n    loading: boolean;\r\n    cancel: (controlHash?: string, refundToOriginalSource?: boolean, signal?: GenericAbortSignal) => Promise<{\r\n        status: boolean;\r\n    } | undefined>;\r\n    getAppleWalletFile: (sectionId: number, signal?: GenericAbortSignal) => Promise<any>;\r\n    getPdf: import(\"axios-hooks\").RefetchFunction<any, any>;\r\n    getQr: import(\"axios-hooks\").RefetchFunction<any, any>;\r\n    orderWheelChairPlatform: (data: OrderPlatformParams, signal?: GenericAbortSignal) => Promise<boolean>;\r\n    partialCancel: (ticketId: number, passengers: PassengersToStorno[], seatsForCancel: SelectedSeat[][], refundToOriginalSource?: boolean, signal?: GenericAbortSignal) => Promise<{\r\n        status: boolean;\r\n    }>;\r\n    qrText: string;\r\n    questionnaireUrls: string[] | undefined;\r\n    sendByEmail: (email: string, signal?: GenericAbortSignal) => Promise<boolean>;\r\n};\r\nexport default useTicketActions;\r\n"}}
