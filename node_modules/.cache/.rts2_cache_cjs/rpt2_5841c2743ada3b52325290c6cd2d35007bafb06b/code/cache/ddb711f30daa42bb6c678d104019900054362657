{"code":"const TWO_WEEKS_TIMESTAMP = 12096e5;\r\nexport const upsellInitialState = {\r\n    cooldownTs: 0,\r\n    displayCount: 0,\r\n};\r\nconst upsellReducer = (draft, action) => {\r\n    switch (action.type) {\r\n        case 'REFUSE_UPSELL': {\r\n            draft.displayCount++;\r\n            if (draft.displayCount === 2) {\r\n                draft.cooldownTs = new Date().valueOf() + TWO_WEEKS_TIMESTAMP;\r\n            }\r\n            break;\r\n        }\r\n        case 'REFRESH_COOLDOWN': {\r\n            if (draft.cooldownTs && new Date().valueOf() > draft.cooldownTs) {\r\n                draft.cooldownTs = 0;\r\n                draft.displayCount = 0;\r\n            }\r\n            break;\r\n        }\r\n    }\r\n};\r\nexport default upsellReducer;\r\n//# sourceMappingURL=reducer.js.map","references":["/home/karelpelcak/Documents/repo/rj-shop-bl/node_modules/immer/dist/immer.d.ts","/home/karelpelcak/Documents/repo/rj-shop-bl/src/store/upsell/types.ts"],"map":"{\"version\":3,\"file\":\"reducer.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/store/upsell/reducer.ts\"],\"names\":[],\"mappings\":\"AAGA,MAAM,mBAAmB,GAAG,OAAO,CAAC;AAEpC,MAAM,CAAC,MAAM,kBAAkB,GAAuB;IACpD,UAAU,EAAE,CAAC;IACb,YAAY,EAAE,CAAC;CAChB,CAAC;AAEF,MAAM,aAAa,GAAG,CAAC,KAAgC,EAAE,MAAqB,EAAE,EAAE;IAChF,QAAQ,MAAM,CAAC,IAAI,EAAE;QACnB,KAAK,eAAe,CAAC,CAAC;YACpB,KAAK,CAAC,YAAY,EAAE,CAAC;YACrB,IAAI,KAAK,CAAC,YAAY,KAAK,CAAC,EAAE;gBAC5B,KAAK,CAAC,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,mBAAmB,CAAC;aAC/D;YACD,MAAM;SACP;QACD,KAAK,kBAAkB,CAAC,CAAC;YACvB,IAAI,KAAK,CAAC,UAAU,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,KAAK,CAAC,UAAU,EAAE;gBAC/D,KAAK,CAAC,UAAU,GAAG,CAAC,CAAC;gBACrB,KAAK,CAAC,YAAY,GAAG,CAAC,CAAC;aACxB;YACD,MAAM;SACP;KACF;AACH,CAAC,CAAC;AAEF,eAAe,aAAa,CAAC\"}","dts":{"name":"/home/karelpelcak/Documents/repo/rj-shop-bl/dist/store/upsell/reducer.d.ts","writeByteOrderMark":false,"text":"import type { Draft } from 'immer';\r\nimport { UpsellActions, UpsellReducerProps } from './types';\r\nexport declare const upsellInitialState: UpsellReducerProps;\r\ndeclare const upsellReducer: (draft: Draft<UpsellReducerProps>, action: UpsellActions) => void;\r\nexport default upsellReducer;\r\n"}}
